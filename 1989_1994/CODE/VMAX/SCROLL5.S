; Intro cod‚e par Zappy/Holocaust pour Robocamp/Vmax.


	CLR.L	-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	MOVE.L	D0,SAUV_SP
	
	CLR.W	-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.W	#5,-(SP)
	TRAP	#14
	LEA	12(SP),SP


	LEA	DECAL,A1
	MOVE	#0,D1
	MOVE	#8,D2
	MOVE	#31,D0
ICI	MOVE.L	#$4CE87CFF,(A1)+
	MOVE	D2,(A1)+
	MOVE.L	#$48E87CFF,(A1)+
	MOVE	D1,(A1)+
	ADD.L	#52,D1
	ADD.L	#52,D2
	MOVE.L	#$4CE87CFF,(A1)+
	MOVE	D2,(A1)+
	MOVE.L	#$48E87CFF,(A1)+
	MOVE	D1,(A1)+
	ADD.L	#52,D1
	ADD.L	#52,D2
	MOVE.L	#$4CE83CFF,(A1)+
	MOVE	D2,(A1)+
	MOVE.L	#$48E83CFF,(A1)+
	MOVE	D1,(A1)+
	ADD	#160-104,D1
	ADD	#160-104,D2
	DBF	D0,ICI
	MOVE	#$4E75,(A1)



	DC.W	$7001
	JSR	ZIK

	CLR.L	PNT2
	CLR.L	PNT
	CLR.L	COLPLUS
	CLR.L	COLP
	MOVE.L	#MARTIN,CAINE

	
	LEA	$8.W,A0
	MOVE	#7,D0
E	MOVE.L	#BRAND,(A0)+
	DBF	D0,E
	
	DC.L	$023800F8
	DC.W	$0484
	
	MOVE.B	$FFFF8201.W,CHAOS
	MOVE.B	$FFFF8203.W,CHAOS+1
	
	MOVEM.L	16745024,D0-D7
	MOVEM.L	D0-D7,BILL_ROTH
	
	BSR	PREP_ECR
	MOVE.L	#FONT1+34+(160*64)+96,SOV_LET
	CLR.L	POS_LET
	CLR.B	SCRP1

	MOVEA.L	SCREEN1,A1
	MOVEA.L	SCREEN2,A2
	DC.L	$43E90CA8
	DC.L	$45EA0CA8
	MOVEA.L	#BLEYS+34,A0
	DC.L	$203C0000
	DC.W	$077F
DWORKIN	DC.L	$22D024D8
	DBF	D0,DWORKIN



	MOVE.L	112,VIALLE
	MOVE.L	#DEIRDRE,112
	
LOOP	JMP	LOOP

BRAND	MOVE.L	VIALLE,112

	MOVEM.L	BILL_ROTH,D0-D7
	MOVEM.L	D0-D7,16745024
	
	MOVE.B	CHAOS,$FFFF8201.W
	MOVE.B	CHAOS+1,$FFFF8203.W
	
	ORI.B	#%00000111,$484.W
	
	MOVE.L	SAUV_SP,-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	
	CLR.W	-(SP)
	TRAP	#1
	ADDQ.L	#2,SP
	
AMBER	
	MOVEM.L	BLEYS+2,D0-D7
	DC.L	$48F800FF
	DC.W	$8240

	MOVE.L	SCREEN2,A0
	DC.L	$D1FC0000
	DC.W	$3E80
	JSR	DECAL
	CMPI.B	#1,SCRP1
	BLO	PART1
	BEQ	PART2
	CMPI.B	#3,SCRP1
	BLO	PART3
	BEQ	PART4
FLORA	BSR	SWAPEC
	DC.W	$4E75
DEIRDRE	JSR	AMBER
	ADDQ.L	#2,LIEBWELLA
	CMPI.L	#$1F4,LIEBWELLA
	BNE.S	FIONA
	CLR.L	LIEBWELLA
	MOVE.L	#DARA,112
FIONA	MOVE.L	COLP,D6
	LEA	GRAYSWANDIR,A5
	ADDA.L	COLPLUS,A5
	DC.L	$4DF88240
	DC.L	$103C0018 
	DC.L	$46FC2700
BENEDICT:DC.L	$4A388209
	BEQ.S	BENEDICT
	DC.L	$90388209
	DC.W	$E0A8
	DCB	$55,$4E71
	LEA	MERLIN,A0
	MOVE.L	CAINE,A1
	DC.L	$0CA9FFFF
	DC.L	$FFFF0320
	BNE.S	GERARD
	MOVE.L	#MARTIN,CAINE
	MOVE.L	CAINE,A1
	BRA.S	RANDOM
GERARD	DCB	$E,$4E71
RANDOM	DC.L	$D1D94E90
	move.l	a1,CAINE
	REPT	$46
	LEA	MERLIN,A0
	LEA	GRAYSWANDIR,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	ENDR
	DC.L	$31FC0007
	DC.W	$8242
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0117
	DC.W	$8244
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0227
	DC.W	$8246
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0447
	DC.W	$8248
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0557
	DC.W	$824A
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0667
	DC.W	$824C
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0777
	DC.W	$824E
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	REPT	$7A
	LEA	MERLIN,A0
	LEA	GRAYSWANDIR,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	ENDR
	
	DC.L	$425646FC
	DC.L	$23000C38
 	DC.L	$0039FC02
	BEQ     BRAND
	JSR	ZIK+2
	DC.W	$4E73 
DARA:	JSR	AMBER
	ADDQ.L	#2,COLPLUS
	ADDQ.L	#2,PNT
	CMPI.L	#35*2+42*2,PNT
	BNE.S	CORWIN
	CLR.L	PNT
	ADD.L	#35*2+42*2,COLP
	MOVE.L	#DEIRDRE,112
	ADDQ.L	#1,PNT2
	CMPI.L	#14,PNT2
	BNE.S	CORWIN
	CLR.L	COLP
	CLR.L	PNT2
	CLR.L	COLPLUS
	CLR.L	PNT
CORWIN	MOVE.L	COLPLUS,D6
	LEA	GRAYSWANDIR,A5
	ADDA.L	COLPLUS,A5
	DC.L	$4DF88240
	DC.L	$103C0018 
	DC.L	$46FC2700
OBERON:DC.L	$4A388209
	BEQ.S	OBERON
	DC.L	$90388209
	DC.W	$E0A8 
	DCB	$55,$4E71
	LEA	MERLIN,A0
	MOVE.L	CAINE,A1
	DC.L	$0CA9FFFF
	DC.L	$FFFF0320
	BNE.S	JULIAN
	MOVE.L	#MARTIN,CAINE
	MOVE.L	CAINE,A1
	BRA.S	ERIC
JULIAN	DCB	$E,$4E71
ERIC	DC.L	$D1D94E90
	move.l	a1,CAINE
	REPT	$46
	LEA	MERLIN,A0
	LEA	GRAYSWANDIR,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	ENDR
	DC.L	$31FC0007
	DC.W	$8242
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0117
	DC.W	$8244
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0227
	DC.W	$8246
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0447
	DC.W	$8248
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0557
	DC.W	$824A
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0667
	DC.W	$824C
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	DC.L	$31FC0777
	DC.W	$824E
	LEA	MERLIN2,A0
	LEA	GRAYSWANDIR+2,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	REPT	$7A
	LEA	MERLIN,A0
	LEA	GRAYSWANDIR,A5
	DC.W	$DBC6
	DC.L	$D1D94E90
	ENDR
	DC.L	$425646FC
	DC.L	$23000C38
	DC.L	$0039FC02
	BEQ     BRAND
	JSR	ZIK+2
	DC.W	$4E73 
	DCB	$3,$4E71
MERLIN	DCB	$4,$4E71
	DCB.W	$23,$3C9D
	DC.W	$4E75
	DCB	$3,$4E71
MERLIN2	DCB	$4,$4E71
	DCB.W	$22,$3C9D
	DC.W	$4E75


PART1	MOVE.L	SOV_LET,A0
	MOVE.L	SCREEN2,A1
	ADDA.L	#152+(100*160),A1
N	SET	0
	REPT	32
	MOVE.B	N+9(A0),N(A1)
	MOVE.B	N+11(A0),N+2(A1)
	MOVE.B	N+13(A0),N+4(A1)
	MOVE.B	N+15(A0),N+6(A1)
N	SET	N+160
	ENDR
	BSR	NEW_LET1
	MOVE.L	SOV_LET,A0
	MOVE.L	SCREEN2,A1
	ADDA.L	#153+(100*160),A1
N	SET	0
	REPT	32
	MOVE.B	N(A0),N(A1)
	MOVE.B	N+2(A0),N+2(A1)
	MOVE.B	N+4(A0),N+4(A1)
	MOVE.B	N+6(A0),N+6(A1)
N	SET	N+160
	ENDR
	ADDQ.B	#1,SCRP1
	BRA	FLORA
PART2	MOVE.L	SOV_LET,A0
	MOVE.L	SCREEN2,A1
	ADDA.L	#152+(100*160),A1
N	SET	0
	REPT	32
	MOVE.L	N(A0),N(A1)
	MOVE.L	N+4(A0),N+4(A1)
N	SET	N+160
	ENDR
	ADDQ.B	#1,SCRP1
	BRA	FLORA
PART3	MOVE.L	SOV_LET,A0
	MOVE.L	SCREEN2,A1
	ADDA.L	#152+(100*160),A1
N	SET	0
	REPT	32
	MOVE.B	N+1(A0),N(A1)
	MOVE.B	N+8(A0),N+1(A1)
	MOVE.B	N+3(A0),N+2(A1)
	MOVE.B	N+10(A0),N+3(A1)
	MOVE.B	N+5(A0),N+4(A1)
	MOVE.B	N+12(A0),N+5(A1)
	MOVE.B	N+7(A0),N+6(A1)
	MOVE.B	N+14(A0),N+7(A1)
N	SET	N+160
	ENDR
	ADDQ.B	#1,SCRP1
	BRA	FLORA
PART4	MOVE.L	SOV_LET,A0
	MOVE.L	SCREEN2,A1
	ADDA.L	#152+(100*160),A1
N	SET	0
	REPT	32
	MOVE.L	N+8(A0),N(A1)
	MOVE.L	N+12(A0),N+4(A1)
N	SET	N+160
	ENDR
	CLR.B	SCRP1
	BRA	FLORA
NEW_LET1	LEA	TEXT1,A0
	ADDA.L	POS_LET,A0
	CMPI.B	#$FF,(A0)
	BNE	SUITNL1
	CLR.L	POS_LET
	LEA	TEXT1,A0
SUITNL1	MOVEQ	#0,D0
	MOVE.B	(A0),D0
	SUBI.B	#32,D0
	LSL.W	#2,D0
	LEA	CORES1,A1
	ADDA.L	D0,A1
	MOVE.L	(A1),SOV_LET
	ADDQ.L	#1,POS_LET
	DC.W	$4E75
SWAPEC	MOVE.L	SCREEN2,D0
	MOVE.L	SCREEN1,SCREEN2
	MOVE.L	D0,SCREEN1
	MOVE.B	SCREEN1+1,$FFFF8201.W
	MOVE.B	SCREEN1+2,$FFFF8203.W
	DC.W	$4E75
PREP_ECR	MOVE.L	#BUFFER,D0
	ANDI.B	#0,D0
	MOVE.L	D0,SCREEN1
	ADDI.L	#32000,D0
	MOVE.L	D0,SCREEN2
	MOVE.B	SCREEN1+1,$FFFF8201.W
	MOVE.B	SCREEN1+2,$FFFF8203.W
	DC.W	$4E75
	

	SECTION	DATA
	
GRAYSWANDIR	
	DC.W	$100,$200,$300,$400,$500,$600,$700
	DC.W	$710,$720,$730,$740,$750,$760,$770
	DC.W	$771,$772,$773,$774,$775,$776,$777
	DC.W	$677,$577,$477,$377,$277,$177,$077
	DC.W	$066,$055,$044,$033,$022,$011,$001
	DCB.W	42,0
	DC.W	$001,$002,$003,$004,$005,$006,$007
	DC.W	$017,$027,$037,$047,$057,$067,$077
	DC.W	$177,$277,$377,$477,$577,$677,$777
	DC.W	$776,$775,$774,$773,$772,$771,$770
	DC.W	$760,$650,$540,$430,$320,$210,$100
	DCB.W	42,0
	DC.W	$010,$020,$030,$040,$050,$060,$070
	DC.W	$170,$270,$370,$470,$570,$670,$770
	DC.W	$771,$772,$773,$774,$775,$776,$777
	DC.W	$777,$776,$775,$774,$773,$772,$771
	DC.W	$770,$670,$570,$470,$370,$270,$170
	DCB.W	42,0
	DC.W	$000,$100,$210,$320,$430,$540,$650
	DC.W	$760,$761,$762,$763,$764,$765,$766
	DC.W	$767,$757,$747,$737,$727,$717,$707
	DC.W	$706,$705,$704,$703,$702,$701,$601
	DC.W	$501,$401,$301,$201,$101,$001,$000
	DCB.W	42,0
	DC.W	$001,$102,$203,$304,$405,$506,$607
	DC.W	$707,$717,$727,$737,$747,$757,$767
	DC.W	$777,$667,$556,$445,$334,$223,$112
	DC.W	$001,$001,$001,$001,$001,$001,$001
	DC.W	$001,$001,$001,$001,$001,$001,$001
	DCB.W	42,0
	DC.W	$002,$012,$023,$034,$045,$056,$067
	DC.W	$077,$177,$276,$375,$474,$573,$672
	DC.W	$771,$761,$751,$741,$731,$721,$711
	DC.W	$701,$601,$501,$401,$301,$201,$101
	DC.W	$000,$000,$000,$000,$000,$000,$000
	DCB.W	42,0
	DC.W	$010,$020,$030,$040,$050,$060,$070
	DC.W	$071,$171,$172,$272,$273,$373,$374
	DC.W	$474,$475,$575,$576,$676,$677,$777
	DC.W	$776,$766,$666,$665,$655,$555,$554
	DC.W	$544,$444,$344,$244,$144,$044,$033
	DCB.W	42,0
	DC.W	$010,$020,$030,$040,$050,$060,$070
	DC.W	$071,$171,$172,$272,$273,$373,$374
	DC.W	$474,$475,$575,$576,$676,$677,$777
	DC.W	$677,$577,$477,$377,$277,$177,$077
	DC.W	$067,$057,$047,$037,$027,$017,$007
	DCB.W	42,0
	DC.W	$010,$020,$030,$040,$050,$060,$070
	DC.W	$071,$171,$172,$272,$273,$373,$374
	DC.W	$474,$475,$575,$576,$676,$677,$777
	DC.W	$776,$766,$666,$665,$655,$555,$554
	DC.W	$544,$444,$344,$244,$144,$044,$000
	DCB.W	42,0
	DC.W	$010,$020,$030,$040,$050,$060,$070
	DC.W	$071,$171,$172,$272,$273,$373,$374
	DC.W	$474,$475,$575,$576,$676,$677,$777
	DC.W	$677,$577,$477,$377,$277,$177,$077
	DC.W	$067,$057,$047,$037,$027,$017,$007
	DCB.W	42,0
	DC.W	$001,$002,$003,$004,$005,$006,$007
	DC.W	$017,$027,$037,$047,$057,$067,$077
	DC.W	$177,$277,$377,$477,$577,$677,$777
	DC.W	$776,$775,$774,$773,$772,$771,$770
	DC.W	$760,$750,$740,$730,$720,$710,$700
	DCB.W	42,0
	DC.W	$001,$002,$003,$004,$005,$006,$007
	DC.W	$017,$027,$037,$047,$057,$067,$077
	DC.W	$177,$277,$377,$477,$577,$677,$777
	DC.W	$776,$775,$774,$773,$772,$771,$770
	DC.W	$670,$570,$470,$370,$270,$170,$070
	DCB.W	42,0
	DC.W	$001,$002,$003,$004,$005,$006,$007
	DC.W	$017,$027,$037,$047,$057,$067,$077
	DC.W	$177,$277,$377,$477,$577,$677,$777
	DC.W	$776,$775,$774,$773,$772,$771,$770
	DC.W	$760,$750,$740,$730,$720,$710,$700
	DCB.W	42,0
	DC.W	$001,$002,$003,$004,$005,$006,$007
	DC.W	$017,$027,$037,$047,$057,$067,$077
	DC.W	$177,$277,$377,$477,$577,$677,$777
	DC.W	$776,$775,$774,$773,$772,$771,$770
	DC.W	$670,$570,$470,$370,$270,$170,$070
	DCB.W	42,0
	DC.W	$100,$200,$300,$400,$500,$600,$700
	DC.W	$710,$720,$730,$740,$750,$760,$770
	DC.W	$771,$772,$773,$774,$775,$776,$777
	DC.W	$677,$577,$477,$377,$277,$177,$077
	DC.W	$066,$055,$044,$033,$022,$011,$001
MARTIN	REPT	4
	DCB.L	5,6
	DCB.L	4,4
	DCB.L	3,2
	DCB.L	2,0
	DCB.L	3,-2
	DCB.L	4,-4
	DCB.L	5,-6
	DCB.L	5,-6
	DCB.L	4,-4
	DCB.L	3,-2
	DCB.L	2,0
	DCB.L	3,2
	DCB.L	4,4
	DCB.L	5,6
	ENDR
	DCB.L	5,6
	DCB.L	4,4
	DCB.L	3,2
	DCB.L	2,0
	DCB.L	3,-2
	DCB.L	4,-4
	DCB.L	5,-6
	DCB.L	5,-6
	DCB.L	4,-4
	DCB.L	3,-2
	DCB.L	2,0
	DCB.L	3,2
	DCB.L	1,4
	DC.L	-1

FONT1	INCBIN	Fontes2.PI1
ZIK	INCBIN	MUS.MUS

TEXT1	DC.B	"      AFTER THE EMPIRE'S FALL...      AFTER THE DEATH"
	DC.B	" OF THE REPLICANTS...       AT THE END OF THE TIME, "
	DC.B	"AFTER THE HOLOCAUST...        - V M A X -  !!!      "
	DC.B	$FF
	EVEN

CORES1	
	DC.L	FONT1+34+(160*132)	*ESP
	DC.L	FONT1+34+(160*66)+96	*!
	DC.L	FONT1+34+(160*132)	*"
	DC.L	FONT1+34+(160*132)	*#
	DC.L	FONT1+34+(160*132)	*$
	DC.L	FONT1+34+(160*132)	*%
	DC.L	FONT1+34+(160*132)	*&
	DC.L	FONT1+34+(160*66)+144	*'
	DC.L	FONT1+34+(160*132)+16	*(
	DC.L	FONT1+34+(160*132)+32	*)
	DC.L	FONT1+34+(160*132)	**
	DC.L	FONT1+34+(160*132)	*+
	DC.L	FONT1+34+(160*132)+64	*,
	DC.L	FONT1+34+(160*132)+48	*-
	DC.L	FONT1+34+(160*66)+112	*.
	DC.L	FONT1+34+(160*132)	*/
	DC.L	FONT1+34+(160*99)	*0
	DC.L	FONT1+34+(160*99)+16	*1
	DC.L	FONT1+34+(160*99)+32	*2
	DC.L	FONT1+34+(160*99)+48	*3
	DC.L	FONT1+34+(160*99)+64	*4
	DC.L	FONT1+34+(160*99)+80	*5
	DC.L	FONT1+34+(160*99)+96	*6
	DC.L	FONT1+34+(160*99)+112	*7
	DC.L	FONT1+34+(160*99)+128	*8
	DC.L	FONT1+34+(160*99)+144	*9
	DC.L	FONT1+34+(160*132)+80	*:
	DC.L	FONT1+34+(160*132)	*;
	DC.L	FONT1+34+(160*132)	*
	DC.L	FONT1+34+(160*132)	*=
	DC.L	FONT1+34+(160*132)	*
	DC.L	FONT1+34+(160*66)+128	*?
	DC.L	FONT1+34+(160*132)	*@
	DC.L	FONT1+34,FONT1+34+16,FONT1+34+32,FONT1+34+48,FONT1+34+64,FONT1+34+80,FONT1+34+96,FONT1+34+112,FONT1+34+128,FONT1+34+144
	DC.L	FONT1+34+(160*33),FONT1+34+(160*33)+16,FONT1+34+(160*33)+32,FONT1+34+(160*33)+48,FONT1+34+(160*33)+64,FONT1+34+(160*33)+80,FONT1+34+(160*33)+96,FONT1+34+(160*33)+112,FONT1+34+(160*33)+128,FONT1+34+(160*33)+144
	DC.L	FONT1+34+(160*66),FONT1+34+(160*66)+16,FONT1+34+(160*66)+32,FONT1+34+(160*66)+48,FONT1+34+(160*66)+64,FONT1+34+(160*66)+80

BLEYS:	INCBIN	VMAXBIG2.DAT

PNT2	DS.L	1
PNT	DS.L	1
COLP	DS.L	1	
LIEBWELLA	DS.L	1	
COLPLUS	DS.L	1
CAINE	DS.L	1
BILL_ROTH	DS.L	8
SAUV_SP	DS.L	1
VIALLE	DS.L	1
POS_LET	DS.L	1
SOV_LET	DS.L	1
SCRP1	DS.B	1
	EVEN
SCREEN1	DS.L	1
SCREEN2	DS.L	1
	DS.B	256
BUFFER	DS.L	16000
	DS.B	256
CHAOS	DS.W	1
DECAL	DS.B	(36*32)+2