
 	SECTION	TEXT 
Begin:
  CLR.L   -(A7) 	* SUPERVISEUR
  MOVE.W  #$20,-(A7)
  TRAP    #1
  ADDQ.L  #6,A7 
  MOVE.L  D0,L000C

  CLR.W   -(A7) 	* BASSE RESO
  MOVE.L  #-1,-(A7) 
  MOVE.L  #-1,-(A7) 
  MOVE.W  #5,-(A7)
  TRAP    #$E 
  LEA     12(A7),A7 



  MOVE.L  #L0001,$00000008.L
  MOVE.L  #L0001,$0000000C.L
  MOVE.L  #L0001,$00000010.L
  MOVE.L  #L0001,$00000014.L
  MOVE.L  #L0001,$00000018.L
  MOVE.L  #L0001,$0000001C.L
  MOVE.L  #L0001,$00000020.L
  MOVE.L  #L0001,$00000024.L

	MOVE.L	#DATA,BIDON

  ANDI.B  #-8,$484.W
  MOVEM.L $FFFF8240.W,D0-D7
  MOVEM.L D0-D7,L000B 
  MOVE.L  $70.W,L000D 
  MOVE.L  #L0002,$70.W
L0000:JMP     L0000 

L0001:MOVE.L  L000D,$70.W 
  MOVEM.L L000B,D0-D7 
  MOVEM.L D0-D7,$FFFF8240.W
  ORI.B   #7,$484.W 
  MOVE.L  L000C,-(A7) 
  MOVE.W  #$20,-(A7)
  TRAP    #1
  ADDQ.L  #6,A7 
  CLR.W   -(A7) 
  TRAP    #1
  ADDQ.L  #2,A7

L0002:

	LEA	COLORS,A5
	LEA 	$FFFF8240.W,A6


  MOVE.B  #$18,D0 
  MOVE    #$2700,SR 
L0004:TST.B   $FFFF8209.W
  BEQ     L0004 
  SUB.B   $FFFF8209.W,D0 
  LSR.L   D0,D0 

	REPT	85
	NOP
	ENDR

;	REPT	50
	LEA	ROUTINE,A0
		
	MOVE.L	BIDON,A1
	CMPI.L	#-1,41*4(A1)
	BNE.S	P
	MOVE.L	#DATA,BIDON
	MOVE.L	BIDON,A1
P
	ADDA.L	(A1)+,A0
  JSR     (A0)
	move.l	a1,BIDON

	REPT	31
	LEA	ROUTINE,A0
;	LEA	COLORS,A5
	ADDA.L	(A1)+,A0
  JSR     (A0)
	ENDR
	
	CLR	(A6)
  MOVE    #$2300,SR 
  CMPI.B  #$39,$FFFFFC02.W
  BEQ     L0001 
  RTE 

	REPT	4
	NOP
	ENDR

ROUTINE
	
	REPT	9+6+4
	NOP
	ENDR

;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)
;	MOVE	(A5)+,(A6)

	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)


	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)


	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)



	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)
	MOVE	(A5)+,(A6)

	RTS

COLORS	;REPT	100
	;DC.W	$000,$112,$223,$334,$445,$556,$667,$777,$777
	;DC.W	$767,$757,$747,$737,$727,$717,$716,$707
	;DC.W	$607,$507,$507,$407,$307,$207,$107,$007
	;DC.W	$006,$005,$004,$004,$003,$002,$001
	;ENDR
	REPT	32
	DC.W	$100,$200,$300,$400,$500,$600,$700
	DC.W	$710,$720,$730,$740,$750,$760,$770
	DC.W	$771,$772,$773,$774,$775,$776,$777
	DC.W	$677,$577,$477,$377,$277,$177,$077
	DC.W	$066,$055,$033,$022,$011
	ENDR
	
	DCB.W	40,$0

DATA	

	REPT	10
	DC.L	0,2,4,6,8,10,12,14,16,18,20
	DC.L	22,24,26,28,30,32,34,36,38,40
	DC.L	38,36,34,32,30,28,26,24,22,20
	DC.L	18,16,14,12,10,8,6,4,2,0
	ENDR

	DC.L	-1
	
	
BIDON	DS.L	1
POINT	DS.L	1
L000B DS.L	16
L000C DS.L	1
L000D ds.l	1
L000E DS.L	1
L000F DS.L	$A9
 	SECTION	BSS
ZUEND:DS.B    94
 END
