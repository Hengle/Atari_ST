*** EXEMPLE DE PROGRAMME DE LECTURE D'UN *.BNK
*** STRUCTURE D'UN .BNK : 
***   - 1.W : NB DE SPRITES QUE CONTIENT LE FICHIER.
***   - 1.W : LONGUEUR DU SPRITE 0
***   - 1.W : HAUTEUR DU SPRITE 0
***   - 1.W : OFFSET DU SPRITE 0 A COMPTER A PARTIR DU DEBUT DU .BNK
***   - 1.W : LONGUEUR DU SPRITE 1
***   -   ...
***   - 1.W : LONGUEUR DU DERNIER SPRITE
***   - 1.W : HAUTEUR DU DERNIER SPRITE
***   - 1.W : OFFSET DU DERNIER SPRITE A COMPTER A PARTIR DU DEBUT DU .BNK
***   LES GRAPHS SUIVENT...

	CLR.L	-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.W	#6,SP

	BSR	INIT_SYSTEME
	BSR	PREPARE_BANK

	LEA	BANK+2,A0
	MOVEQ	#0,D7	;D7=No DU SPRITE A AFFICHER
	BSR	AFFICHE_SPRITE

	NOP

AFFICHE_SPRITE	LSL.W	#3,D7
	ADDA.W	D7,A0
	MOVE.W	(A0)+,D0	;LONGUEUR
	MOVE.W	(A0)+,D1	;HAUTEUR
	MOVE.L	(A0)+,A1	;A1=ADRESSE
	SUBQ.W	#1,D1	;D1=HAUTEUR-1
	SUBQ.W	#1,D0
	ANDI.W	#$FFF0,D0
	LSR.W	#4,D0	;D0=NB DE MOTS-1
	MOVE.W	D0,D2
	ADDQ.W	#1,D2
	LSL.W	#3,D2
	MOVE.W	#160,D3
	SUB.W	D2,D3	;OFFSET FIN DE LIGNE
	MOVE.L	SCREEN1,A2
.AFF_Y	MOVE.W	D0,D2
.AFF_X	MOVE.L	(A1)+,(A2)+
	MOVE.L	(A1)+,(A2)+
	DBRA	D2,.AFF_X
	ADDA.W	D3,A2
	DBRA	D1,.AFF_Y
	RTS

PREPARE_BANK	LEA	BANK,A0
	MOVE.L	A0,D0
	MOVE.W	(A0)+,D7	;D7=NB DE SPRITE
	SUBQ.W	#1,D7	;...POUR LE DBRA
.PREP	ADDQ.W	#4,A0	;ON SAUTE LONGUEUR-HAUTEUR
	ADD.L	D0,(A0)+	;ON A L'ADRESSE
	DBRA	D7,.PREP
	RTS

INIT_SYSTEME	CLR.B	$FFFF8260.W

	MOVE.L	#BUFFER,D0
	CLR.B	D0
	MOVE.L	D0,SCREEN1
	MOVE.B	SCREEN1+1,$FFFF8201.W
	MOVE.B	SCREEN1+2,$FFFF8203.W
	RTS

BANK	INCBIN	TRY.BNK

	SECTION	BSS
	DS.B	256
BUFFER	DS.B	32000
SCREEN1	DS.L	1