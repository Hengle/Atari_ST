;il faut 52 lignes pour le vaisseau
;PENSER A LE FAIRE SLALOMER ENTRE LES LETTRES!!
;Visiblement pour le sample c'est foutu: bourrer la ram avec des gfxs
;de vaisseau … la place..............

;0000	Fond	|	40
;0001	Damier	|	42
;0010	Vaisseau		44
;0011	Vaisseau		46
;0100	Vaisseau		48
;0101	Vaisseau		4A
;0110	Vaisseau		4C
;0111	Vaisseau		4E
;1000	Scroller	|	50
;1001	Scroller		52
;1010	Scroller		54
;1011	Scroller		56
;1100	Scroller		58
;1101	Scroller		5A
;1110	Scroller		5C
;1111	Scroller		5E


DEBUT:

	CLR.L	-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP	

	LEA	BSS_DEB,A0
	LEA	BSS_END,A1
KILL_IT	CLR.L	(A0)+
	CMP.L	A1,A0
	BLE.S	KILL_IT

	LEA.L 	D_PILE,A7
	MOVE.L	#-8,VALUE2
	MOVE.L	#-8,VALUE

	MOVE.L	#DATA,DATAPNT
	MOVE.L	#DATA,DATAPNT2

	MOVE.L	#VBL_DEB,$70.W

	MOVE.L	#FIN,$008.W
	MOVE.L	#FIN,$00C.W
	MOVE.L	#FIN,$010.W
	MOVE.L	#FIN,$014.W

	MOVE.L	#$8080000,$FFFF8800.W
	MOVE.L	#$9090000,$FFFF8800.W
	MOVE.L	#$A0A0000,$FFFF8800.W

	MOVEQ	#0,D0
	MOVEQ	#0,D1
	MOVEQ	#0,D2
	MOVEQ	#0,D3
	MOVEQ	#0,D4
	MOVEQ	#0,D5
	MOVEQ	#0,D6
	MOVEQ	#0,D7
	MOVEM.L	D0-D7,$FFFF8240.W

	MOVE.B	#2,$FFFF820A.W
	MOVE.B	#$1E,$FFFFFA07.W
	MOVE.B	#$64,$FFFFFA09.W
	MOVE.B	#$00,$FFFFFA0F.W
	MOVE.B	#$1E,$FFFFFA13.W
	MOVE.B	#$00,$FFFFFA1B.W
	MOVE.B	#$47,$FFFFFA21.W
	MOVE.B	#$64,$FFFFFA15.W
	MOVE.B	#$48,$FFFFFA17.W
	MOVE.B	#$00,$FFFFFA19.W
	MOVE.B	#$FF,$FFFFFA1F.W

	CLR.B	$FFFFFA07.W
	CLR.B	$FFFFFA09.W
	MOVE.B	#$12,$FFFFFC02.W

	LEA	FIN,A0
	MOVE.L	A0,$008.W
	MOVE.L	A0,$00C.W
	MOVE.L	A0,$010.W
	MOVE.L	A0,$014.W
	MOVE.L	A0,$018.W
	MOVE.L	A0,$01C.W
	MOVE.L	A0,$020.W

	LEA	INTER_RTE,A0
	MOVE.L	A0,$68.W
	MOVE.L	A0,$134.W
	MOVE.L	A0,$120.W
	;MOVE.L	A0,$70.W

	LEA	COD1,A5
	LEA	TABLE,A6

.AGAIN	MOVE.L	A5,(A6)+
	CMPI.L	#$12345678,(A5)
	BEQ.S	.FINITO
.LOOK_FOR	CMPI	#$4E75,(A5)+
	BNE.S	.LOOK_FOR
	BRA.S	.AGAIN
.FINITO	CLR.L	-4(A6)

	LEA	COD2,A5
	LEA	TABLE2,A6

.AGAIN2	MOVE.L	A5,(A6)+
	CMPI.L	#$12345678,(A5)
	BEQ.S	.FINITO2
.LOOK_FOR2	CMPI	#$4E75,(A5)+
	BNE.S	.LOOK_FOR2
	BRA.S	.AGAIN2
.FINITO2	CLR.L	-4(A6)

	;JMP	TST
*
*	LEA	COD2,A0
*	LEA	TABLE2,A1
*UN_DE_PLUS_	CMPI.L	#$99999999,(A0)
*	BEQ.S	FINITO_
*	MOVE.L	A0,(A1)+
*CHERCHE_	CMPI	#$4E75,(A0)+
*	BEQ.S	UN_DE_PLUS_
*	BRA.S	CHERCHE_
*FINITO_

TST

	MOVE	#$040,$FFFF8240.W
	MOVE	#49,D0
PAUSE	JSR	VSYNC
	DBF	D0,PAUSE
	MOVE	#$001,$FFFF8240.W

	MOVE	#$2700,SR

	MOVE.L	#BUFFERSCR,D0
	CLR.B	D0
	MOVE.L	D0,SCREEN1
	MOVE.L	D0,SCREEN
	ADD.L	#64000+29440,D0
	MOVE.L	D0,SCREEN2
	MOVE.L	D0,SCREENA

	MOVE.L	#BUF_BIDON,D0
	CLR.B	D0
	MOVE.L	D0,SCREEN3

	MOVE.L	SCREEN3,A0

	LEA	TABLE,A1
	MOVE.L	(A1),A1
	MOVEM.L	(A1),D0-D7
	JSR	8*4(A1)

	LEA	TABLE+4,A1
	MOVE.L	A1,SAVEA1

	MOVE.L	SCREEN3,A0
	LEA	7*4(A0),A0	112

	LEA	TABLE2,A1
	MOVE.L	(A1),A1
	MOVEM.L	(A1),D0-D7
	JSR	8*4(A1)

	LEA	TABLE2+4,A1
	MOVE.L	A1,SAVEA1B
TST2
	MOVE.L	#INTER_RTE,$68.W
	MOVE.L	#INTER_RTE,$134.W

	CLR.B	$FFFFFA07.W
	CLR.B	$FFFFFA09.W
	CLR.B	$FFFFFA13.W
	CLR.B	$FFFFFA15.W
	CLR.B	$FFFFFA1B.W

	MOVE.B	#$12,$FFFFFC02.W

	CLR.B	$FFFFFA1B.W
	BSET	#0,$FFFFFA07.W
	BSET	#0,$FFFFFA13.W

	LEA	TEXTE,A0
	MOVE.L	A0,MEM_LET

	MOVE.L	#RTE,$120.W

	MOVE.L	#VBLR,$70.W
	MOVE	#$2300,SR

BOUCLED	BRA.S	BOUCLED
***
;	MOVE.L	SCREEN1,A1	5
;CHG	EQU	*+2
;	LEA	BUFI,A2	3
;	LEA	160+230*100+64+2(A1),A1	2
;	LEA	230*26(A1),A1	2
;	LEA	-230(A1),A6	2
***

ROUTY_2	;DEBUT LIGNE 1
N	SET	0
N2	SET	0
;A1=ADR MILIEU ECRAN EN Y + OFFSET CORRECT EN X
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	NOP
	NOP
	NOP
	NOP
	;DCB	88-10-63-15,$4E71
	MOVEM.L	(A2)+,D0-D5	15
*
	MOVE.L	D0,N(A1)	4
	MOVE.L	D0,N2(A6)	4
	MOVE.L	D1,N+8(A1)	4
	MOVE.L	D1,N2+8(A6)	4
	MOVE.L	D2,N+8*2(A1)	4
	MOVE.L	D2,N2+8*2(A6)	4

	MOVE.L	D3,N+8*3(A1)	4
	MOVE.L	D3,N2+8*3(A6)	4
	MOVE.L	D4,N+8*4(A1)	4
	MOVE.L	D4,N2+8*4(A6)	4
	MOVE.L	D5,N+8*5(A1)	4
	MOVE.L	D5,N2+8*5(A6)	4

*	*6 = (4+4)*6 = 48 NOPS +15 = 63
N	SET	N+8*6
N2	SET	N2+8*6
	MOVEM.L	(A2)+,D0-D5	15
	MOVE.b	#0,(A3)
	MOVE	A4,(A3)
	MOVE.L	D0,N(A1)	4
	MOVE.L	D0,N2(A6)	4
	MOVE.L	D1,N+8(A1)	4

	DCB	13-12,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	;DCB	12,$4E71
	MOVE.L	D1,N2+8(A6)	4
	MOVE.L	D2,N+8*2(A1)	4
	MOVE.L	D2,N2+8*2(A6)	4
;FIN LIGNE 1/DEBUT LIGNE 2
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-10-6*4-15-2-9*4+4,$4E71
	MOVE.L	D3,N+8*3(A1)	4
	MOVE.L	D3,N2+8*3(A6)	4
	MOVE.L	D4,N+8*4(A1)	4
	MOVE.L	D4,N2+8*4(A6)	4
	MOVE.L	D5,N+8*5(A1)	4
	MOVE.L	D5,N2+8*5(A6)	4
N	SET	N-8*6+230
N2	SET	N2-8*6-230
;	1/39 COPIEE
	MOVEM.L	(A2)+,D0-D6	15+2
*
	MOVE.L	D0,N(A1)	4
	MOVE.L	D0,N2(A6)	4
	MOVE.L	D1,N+8(A1)	4

	MOVE.L	D1,N2+8(A6)	4
	MOVE.L	D2,N+8*2(A1)	4
	MOVE.L	D2,N2+8*2(A6)	4

	MOVE.L	D3,N+8*3(A1)	4
	MOVE.L	D3,N2+8*3(A6)	4
	MOVE.L	D4,N+8*4(A1)	4

	MOVE.b	#0,(A3)
	MOVE	A4,(A3)
	DCB	13-12,$4E71
	MOVE.L	D4,N2+8*4(A6)	4
	MOVE.L	D5,N+8*5(A1)	4
	MOVE.L	D5,N2+8*5(A6)	4
N	SET	N+8*6
N2	SET	N2+8*6
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	D6,N(A1)
	MOVE.L	D6,N2(A6)
	DCB	12-4*2,$4E71
;FIN LIGNE2/DEBUT 3

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	NOP
	NOP
	NOP
	NOP
	MOVEM.L	(A2)+,D1-D5	13
	MOVE.L	D1,N+8(A1)	4
	MOVE.L	D1,N2+8(A6)	4
	MOVE.L	D2,N+8*2(A1)	4
	MOVE.L	D2,N2+8*2(A6)	4
	MOVE.L	D3,N+8*3(A1)	4
	MOVE.L	D3,N2+8*3(A6)	4
	MOVE.L	D4,N+8*4(A1)	4
	MOVE.L	D4,N2+8*4(A6)	4
	MOVE.L	D5,N+8*5(A1)	4
	MOVE.L	D5,N2+8*5(A6)	4
N	SET	N-8*6+230
N2	SET	N2-8*6-230
;	2/39 COPIEE
	
	DCB	88-10-13-10*4-15-8,$4E71
	MOVEM.L	(A2)+,D0-D5
	MOVE.L	D0,N(A1)
	MOVE.L	D0,N2(A6)
	MOVE.b	#0,(A3)
	MOVE	A4,(A3)
	DCB	13-12,$4E71
	MOVE.L	D1,N+8(A1)	4
	MOVE.L	D1,N2+8(A6)	4
	MOVE.L	D2,N+8*2(A1)	4

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
;	DCB	12,$4E71
	MOVE.L	D2,N2+8*2(A6)	4
	MOVE.L	D3,N+8*3(A1)	4
	MOVE.L	D3,N2+8*3(A6)	4
;FIN 3/DEB 4

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-10-4*4-15-44+4,$4E71
	MOVE.L	D4,N+8*4(A1)	4
	MOVE.L	D4,N2+8*4(A6)	4
	MOVE.L	D5,N+8*5(A1)	4
	MOVE.L	D5,N2+8*5(A6)	4
N	SET	N+8*6
N2	SET	N2+8*6
	MOVEM.L	(A2)+,D0-D5
	MOVE.L	D0,N(A1)
	MOVE.L	D0,N2(A6)
	MOVE.L	D1,N+8(A1)	4
	MOVE.L	D1,N2+8(A6)	4
	MOVE.L	D2,N+8*2(A1)	4
	MOVE.L	D2,N2+8*2(A6)	4
	MOVE.L	D3,N+8*3(A1)	4
	MOVE.L	D3,N2+8*3(A6)	4
	MOVE.L	D4,N+8*4(A1)	4
	MOVE.L	D4,N2+8*4(A6)	4
	MOVE.L	D5,N+8*5(A1)	4

	MOVE.b	#0,(A3)
	MOVE	A4,(A3)
	MOVE.L	D5,N2+8*5(A6)	4
N	SET	N-8*6+230
N2	SET	N2-8*6-230
	DCB	13-4-2-2,$4E71
	LEA	230*3(A1),A1
	LEA	-230*3(A6),A6
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-5-4,$4E71
;FIN 4 -> 4 LIGNES POUR EN COPIER 3
	RTS

VBLR
	CLR.B	$FFFFFA1B.W
	MOVE.B	#0,$FFFFFA19.W
	MOVE.B	#99,$FFFFFA1F.W
	MOVE.B	#4,$FFFFFA19.W
	BCLR	#3,$FFFFFA17.W
	MOVE.L	#INTER_TMA,$134.W
	ORI.B	#$20,$FFFFFA13.W
	ORI.B	#$20,$FFFFFA07.W

	MOVEQ	#0,D0
	MOVEQ	#0,D1
	MOVEQ	#0,D2
	MOVEQ	#0,D3
	MOVEQ	#0,D4
	MOVEQ	#0,D5
	MOVEQ	#0,D6
	MOVEQ	#0,D7
	MOVEM.L	D0-D7,$FFFF8240.W
***
;	JMP	PPP

	MOVE.L	SCREEN3,A0
	MOVE.L	SAVEA1,A1
	MOVE.L	(A1)+,A2
	TST.L	-4(A1)
	BNE	RT
	LEA	TABLE+4,A1
	MOVE.L	(A1)+,A2
RT
	MOVE.L	A1,SAVEA1
	MOVEM.L	(A2),D0-D7
	JSR	8*4(A2)

	MOVE.L	SCREEN3,A0
	LEA	7*4(A0),A0	112
	MOVE.L	SAVEA1B,A1
	MOVE.L	(A1)+,A2
	TST.L	-4(A1)
	BNE	RTB
	LEA	TABLE2+4,A1
	MOVE.L	(A1)+,A2
RTB
	MOVEM.L	(A2),D0-D7
	JSR	8*4(A2)
	CMPI.B	#$1,$FFFFFC02.W
	BEQ.S	TST3
	MOVE.L	A1,SAVEA1B
TST3
;PPP
***
	LEA	CHG,A0
	MOVE.L	(A0),D0
	;ADD.L	#12*4*39,D0
	CMPI.L	#BUFI+12*4*39*128,D0
	BNE.S	OKOKOKOK
	MOVE.L	#BUFI,D0
OKOKOKOK	MOVE.L	D0,(A0)

***
	move.l	SCREENA,a1
	ADDA.L	VALUE2,A1
	LEA	6+208+160*7(A1),A1
	MOVE.L	A1,MOD_ADRF

	LEA	MINI_TABLE,A0
MODT	EQU	*+2
	LEA	0(A0),A0

	TST.L	(A0)
	BNE.S	.ROULE
	CLR	MODT
	LEA	MINI_TABLE,A0
.ROULE
	MOVE.L	(A0)+,A2
	MOVE.L	(A0)+,MOD_DEP
	MOVE	(A0)+,MOD_NB
	ADD	#8+2,MODT
	JSR	(A2)

	CLR.L	PLUS3		7*
	ADDQ.L	#8,VALUE		9*
	MOVE.L	VALUE,D0		5*
	CMPI.L	#29440,D0		4*
	BNE.S	GLIBO		2
	CLR.L	VALUE		7*
	MOVE.L	#-29440,PLUS3	7*
GLIBO
	;44
	MOVE.L	DATAPNT,A6		5
	CMPI.L	#-1,(A6)		5
	BNE.S	OK2		2
	MOVE.L	#DATA,DATAPNT		7
	MOVE.L	DATAPNT,A6		5
	BRA.S	GF		3
OK2	DCB	15,$4E71
GF	MOVE.L	(A6)+,PLUS		7
	MOVE.L	(A6)+,A5		3
;37
	MOVE.L	A6,MODA6
	MOVE.L	A5,MODA5
INTER_RTE	RTE

INTER_TMA:	CLR.B	$FFFFFA07.W
	CLR.B	$FFFFFA09.W
	MOVE	#$2100,SR
full
	LEA	$FFFF8209.W,A3
	LEA	$FFFF8260.W,A6
	LEA	$FFFF820A.W,A5

	MOVEQ	#0,D0
	MOVEQ	#2,D1

	STOP	#$2100
	MOVE	#$2700,SR
	MOVE	#$2300,(SP)

	MOVEQ	#29,D2
SYNCHROA:	DBF	D2,SYNCHROA
	NOP

	MOVE.B	D0,(A5)
	REPT	6
	NOP
	ENDR
	MOVE.B	D1,(A5)

******************************************
KJ	MOVE.L	#$FFFF8209,A0
	MOVE.L	#$FFFF8260,A4
	MOVE.L	#$FFFF820A,A3
	MOVE	#199+28,D0
	MOVEQ	#0,D1		
	MOVEQ	#0,D4
	MOVEQ	#2,D3
	MOVEQ	#$10,D6

SYNCHR	MOVE.B	(A0),D7     * SYNCHRO
	BEQ.S	SYNCHR
	SUB.W	D7,D6		
	LSL.W	D6,D1		

	REPT	97-4-4-6-5-3
	NOP	
	ENDR
MODA6	EQU	*+2
	MOVE.L	#0,A6
MODA5	EQU	*+2
	MOVE.L	#0,A5
MODA0	EQU	*+2
	MOVE.L	#0,A0
	MOVE.L	MEM_LET,A2	5

	MOVE	#$000,$FFFF8240.W	4

	JSR	(A5)	*4	T=128
	MOVE.L	(A6)+,A5	*3
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)
	MOVE.L	(A6)+,A5
	JSR	(A5)

	DCB	7-3-1,$4E71
	MOVE.L	A0,A6	1
	LEA	PALETTE,A5	3
VB
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	MOVE.L	#$05660566,D7	3	;756
	MOVE.L	D7,$FFFF8250.W
	MOVE.L	D7,$FFFF8254.W
	MOVE.L	D7,$FFFF8258.W
	MOVE.L	D7,$FFFF825C.W
	MOVE.L	#$02220222,D7	3
	MOVE.L	D7,$FFFF8244.W	4
	MOVE.L	#$03330333,D7	3
	MOVE.L	D7,$FFFF8248.W	4
	MOVE.L	#$07000700,D7	3
	MOVE.L	D7,$FFFF824C.W	4
	DCB	88-6-16-3-12-6-3,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-5,$4E71
MOD_DEP	EQU	*+2
	JSR	$12345678
;INT1 = 24 LIGNES
;INT2 = 16+16+1 LIGNES

*********************************************************
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-6-16-6-3-2,$4E71

	MOVE.L	SCREEN3,A0	5
	LEA	8(A0),A0	2
	move.l	SCREENA,a1	5
	ADDA.L	VALUE2,A1	6
	LEA	160*7+230(A1),A1	2
	LEA	230*120(A1),A2		2
	LEA	230*128(A2),A2		2
	LEA	INT,A6	3
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13-2,$4E71
MOD_NB	EQU	*+2
	MOVE	#218,D7
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	SUB	#20*9+5,D7	20*9
	DCB	12-4-2-4,$4E71
	MOVE	D7,MOD_NB2
	REPT	20
	JSR	(A6)
	ENDR
MOD_NB2	EQU	*+2
	MOVE	#0,D7
	;NOP
	;NOP
	NOP

FULLSCREEN	NOP
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W

	DCB	88-6,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-4,$4E71

	DBF	D7,FULLSCREEN

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-6-5-3-6,$4E71

	move.l	MOD_ADRF,a1	5

CHG	EQU	*+2
	LEA	BUFI,A2	3
	LEA	-6-208+230*100+64+2(A1),A1	2
	LEA	230*26(A1),A1	2
	LEA	-230(A1),A6	2

	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-5,$4E71

	JSR	ROUTY_2
	NOP
	NOP
	NOP
	NOP
	NOP

	MOVE	a4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-6,$4E71
	MOVE.b	#0,(A3)
	MOVE	a4,(A3)
	DCB	2,$2A95
	DCB	3,$4E71
	MOVE	a4,(A4)
	MOVE.B	#0,(A4)
	CLR.B	$FFFF820A.W
	DCB	1,$2A95
	DCB	3,$4E71
	MOVE	a4,(A4)
	MOVE.B	#0,(A4)
	MOVE	a4,(A3)
	MOVE.L	(A5)+,$FFFF8240.W

	DCB	86-6,$4E71
	MOVE.b	#0,(A3)
	MOVE	a4,(A3)
	DCB	2,$2A95
	DCB	3,$4E71
	MOVE	a4,(A4)
	MOVE.B	#0,(A4)
	
	DCB	12-5,$4E71

	REPT	10
	JSR	ROUTY_2
	ENDR
	JMP	FINITO

	dcb	12-1-1,$4e71
	MOVEQ	#39,D7
	
FULL_END	NOP
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W

	DCB	88-6,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	2,$2A95
	DCB	3,$4E71
 	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-4,$4E71
	DBF	D7,FULL_END
FINITO
	MOVE.L	MODA6,A6
	LEA	4*5(A6),A6
	MOVE.L	A6,DATAPNT	*5

MOD_ADRF	EQU	*+2
	LEA	$12345678,A1
	ADDQ	#8,A1
	JSR	RT_EFF1

	MOVE.L	PLUS,D0
	ADD.L	D0,SCREEN1
	MOVE.L	PLUS3,D0
	ADD.L	D0,SCREEN1
	MOVE.B  SCREEN2+1,$FFFF8201.W
	MOVE.B  SCREEN2+2,$FFFF8203.W
	JSR	SWAP
	MOVE	#8,COMPTEUR
RTE	RTE

FIN	MOVE.L	4.W,A0
	JMP	(A0)

MINI_TABLE
	DC.L	ANNEX1,INT2
	DC	218-33
	DC.L	ANNEX1B,INT1
	DC	218-24
	DC.L	ANNEX2,INT1
	DC	218-24
	DC.L	ANNEX2B,INT1
	DC	218-24
	DC.L	0,0,0
***************************************
ANNEX2	
	;LEA	IMAGE+34+32*160+8,A0
	MOVE.L	#IMAGE+34+32*160+8,MODA0
	RTS
ANNEX1B
	;LEA	IMAGE+34,A0
	MOVE.L	#IMAGE+34,MODA0
	RTS
ANNEX2B
	;LEA	IMAGE+34+8,A0
	MOVE.L	#IMAGE+34+8,MODA0
	RTS
ANNEX1	MOVE.L	#IMAGE+34,MODA0
	RTS
INT1
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-6-9-7*9-5,$4E71
	MOVE.L	A6,A0	1
	ADDA	(A2)+,A0	3
	MOVE.L	(A0),(A1)	5
	MOVE.L	160*1(A0),230*1(A1)	7
	MOVE.L	160*2(A0),230*2(A1)
	MOVE.L	160*3(A0),230*3(A1)
	MOVE.L	160*4(A0),230*4(A1)
	MOVE.L	160*5(A0),230*5(A1)
	MOVE.L	160*6(A0),230*6(A1)
	MOVE.L	160*7(A0),230*7(A1)
	MOVE.L	160*8(A0),230*8(A1)
	MOVE.L	160*9(A0),230*9(A1)
	MOVE	160*10(A0),230*10(A1)

	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE	160*10+2(A0),230*10+2(A1)
	MOVE.L	160*11(A0),230*11(A1)
	DCB	13-5-7,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	160*12(A0),230*12(A1)
	MOVE	160*13(A0),230*13(A1)

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	MOVE	160*13+2(A0),230*13+2(A1)
	DCB	88-6-5-7*10,$4E71
	MOVE.L	160*14(A0),230*14(A1)
	MOVE.L	160*15(A0),230*15(A1)
	MOVE.L	160*16(A0),230*16(A1)
	MOVE.L	160*17(A0),230*17(A1)
	MOVE.L	160*18(A0),230*18(A1)
	MOVE.L	160*19(A0),230*19(A1)
	MOVE.L	160*20(A0),230*20(A1)
	MOVE.L	160*21(A0),230*21(A1)
	MOVE.L	160*22(A0),230*22(A1)
	MOVE.L	160*23(A0),230*23(A1)
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE.L	160*24(A0),230*24(A1)
	MOVE	160*25(A0),230*25(A1)
	DCB	13-7-5,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	160*25+2(A0),230*25+2(A1)
	MOVE.L	160*26(A0),230*26(A1)

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-6-7*5-2,$4E71
	MOVE.L	160*27(A0),230*27(A1)
	MOVE.L	160*28(A0),230*28(A1)
	MOVE.L	160*29(A0),230*29(A1)
	MOVE.L	160*30(A0),230*30(A1)
	MOVE.L	160*31(A0),230*31(A1)
	LEA	230*32(A1),A1
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	SUBQ	#1,COMPTEUR	5
	BEQ.S	.DONE	3 si saut, 2 sinon
	NOP
	NOP
	JMP	INT1	3, Tot=12!!
.DONE	RTS	4,Total=12,ok...
COMPTEUR	DC	8

INT2
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-6-4-3-14*5-1,$4E71
	MOVE.L	A6,A0	1
	ADDA	(A2)+,A0	3
	MOVE.B	9(A0),(A1)	4
	MOVE.B	160+9(A0),230(A1)	5
	MOVE.B	160*2+9(A0),230*2(A1)
	MOVE.B	160*3+9(A0),230*3(A1)
	MOVE.B	160*4+9(A0),230*4(A1)
	MOVE.B	160*5+9(A0),230*5(A1)
	MOVE.B	160*6+9(A0),230*6(A1)
	MOVE.B	160*7+9(A0),230*7(A1)
	MOVE.B	160*8+9(A0),230*8(A1)
	MOVE.B	160*9+9(A0),230*9(A1)
	MOVE.B	160*10+9(A0),230*10(A1)
	MOVE.B	160*11+9(A0),230*11(A1)
	MOVE.B	160*12+9(A0),230*12(A1)
	MOVE.B	160*13+9(A0),230*13(A1)
	MOVE.B	160*14+9(A0),230*14(A1)
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13-10,$4E71
	MOVE.B	160*15+9(A0),230*15(A1)
	MOVE.B	160*16+9(A0),230*16(A1)
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-10,$4E71
	MOVE.B	160*17+9(A0),230*17(A1)
	MOVE.B	160*18+9(A0),230*18(A1)

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	MOVE.B	160*19+9(A0),230*19(A1)
	MOVE.B	160*20+9(A0),230*20(A1)
	MOVE.B	160*21+9(A0),230*21(A1)
	MOVE.B	160*22+9(A0),230*22(A1)
	MOVE.B	160*23+9(A0),230*23(A1)
	MOVE.B	160*24+9(A0),230*24(A1)
	MOVE.B	160*25+9(A0),230*25(A1)
	MOVE.B	160*26+9(A0),230*26(A1)
	MOVE.B	160*27+9(A0),230*27(A1)
	MOVE.B	160*28+9(A0),230*28(A1)
	MOVE.B	160*29+9(A0),230*29(A1)
	MOVE.B	160*30+9(A0),230*30(A1)
	MOVE.B	160*31+9(A0),230*31(A1)
	LEA	230*32(A1),A1	2

	DCB	88-6-13*5-2,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	SUBQ	#1,COMPTEUR	5
	BEQ.S	.DONE	3 si saut, 2 sinon
	NOP
	NOP
	JMP	INT2	3, Tot=12!!
.DONE	NOP
	NOP
	NOP
	NOP

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W

	MOVE.L	MEM_LET,A2	5
	LEA	2*8(A2),A2	2
	;NOP
	;NOP
	CMPI	#$FFFF,16(A2)	4
	BEQ.S	.THE_END	3/2
	NOP
	BRA.S	.NOT_THE_END	3
.THE_END	LEA	TEXTE,A2	3
.NOT_THE_END
	MOVE.L	A2,MEM_LET	5

	LEA	-29440(A1),A1	2
	LEA	-29440+1(A1),A1	2
	LEA	IMAGE+34,A0	3
	MOVE	#8,COMPTEUR

	DCB	88-6-5-2-4-6-5-4-3-5,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12,$4E71

INT3	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	DCB	88-6-4-3-14*5,$4E71
	MOVE.L	A6,A0	1
	ADDA	(A2)+,A0	3
	MOVE.B	(A0),(A1)	3
	MOVE.B	160(A0),230(A1)	5
	MOVE.B	160*2(A0),230*2(A1)
	MOVE.B	160*3(A0),230*3(A1)
	MOVE.B	160*4(A0),230*4(A1)
	MOVE.B	160*5(A0),230*5(A1)
	MOVE.B	160*6(A0),230*6(A1)
	MOVE.B	160*7(A0),230*7(A1)
	MOVE.B	160*8(A0),230*8(A1)
	MOVE.B	160*9(A0),230*9(A1)
	MOVE.B	160*10(A0),230*10(A1)
	MOVE.B	160*11(A0),230*11(A1)
	MOVE.B	160*12(A0),230*12(A1)
	MOVE.B	160*13(A0),230*13(A1)
	MOVE.B	160*14(A0),230*14(A1)
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13-10,$4E71
	MOVE.B	160*15(A0),230*15(A1)
	MOVE.B	160*16(A0),230*16(A1)
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-10,$4E71
	MOVE.B	160*17(A0),230*17(A1)
	MOVE.B	160*18(A0),230*18(A1)

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	MOVE.B	160*19(A0),230*19(A1)
	MOVE.B	160*20(A0),230*20(A1)
	MOVE.B	160*21(A0),230*21(A1)
	MOVE.B	160*22(A0),230*22(A1)
	MOVE.B	160*23(A0),230*23(A1)
	MOVE.B	160*24(A0),230*24(A1)
	MOVE.B	160*25(A0),230*25(A1)
	MOVE.B	160*26(A0),230*26(A1)
	MOVE.B	160*27(A0),230*27(A1)
	MOVE.B	160*28(A0),230*28(A1)
	MOVE.B	160*29(A0),230*29(A1)
	MOVE.B	160*30(A0),230*30(A1)
	MOVE.B	160*31(A0),230*31(A1)
	LEA	230*32(A1),A1	2

	DCB	88-6-13*5-2,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	SUBQ	#1,COMPTEUR	5
	BEQ.S	.DONE2	3 si saut, 2 sinon
	NOP
	NOP
	JMP	INT3	3, Tot=12!!
.DONE2	RTS

INT
;LIGNE 1
N	SET	0
N2	SET	0
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W	6
	MOVEM.L	(A0)+,D0-D7	19

	MOVE	D0,N+16+8(A1)	3
	MOVE	D0,N2+16+8(A2)	3
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		1
N2	SET	N2+16		1
	MOVE	D1,N+16+8(A1)	3
	MOVE	D1,N2+16+8(A2)	3
	SWAP	D1	1
	MOVE	D1,N+16(A1)	3
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		2
N2	SET	N2+16

	MOVE	D2,N+16+8(A1)	3
	MOVE	D2,N2+16+8(A2)	3
	SWAP	D2	1
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		3
N2	SET	N2+16

	MOVE	D3,N+16+8(A1)	3
	MOVE	D3,N2+16+8(A2)	3
	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		4
N2	SET	N2+16

	MOVE	D4,N+16+8(A1)	3
	MOVE	D4,N2+16+8(A2)	3
	SWAP	D4	1
	DCB	88-6-19-4*13-7,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	DCB	13-6-7,$4E71
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		5
N2	SET	N2+16
	MOVE	D5,N+16+8(A1)	3
	MOVE	D5,N2+16+8(A2)	3
	SWAP	D5	1
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-6-6,$4E71
	MOVE	D5,N+16(A1)	3
	MOVE	D5,N2+16(A2)	3
N	SET	N+16		6
N2	SET	N2+16
	MOVE	D6,N+16+8(A1)	3
	MOVE	D6,N2+16+8(A2)	3
*LIGNE 2
	
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D6	1
	MOVE	D6,N+16(A1)	3
	MOVE	D6,N2+16(A2)	3
N	SET	N+16		7
N2	SET	N2+16
	DCB	88-6-7-13-19-13*3-3,$4E71

	MOVE	D7,N+16+8(A1)	3
	MOVE	D7,N2+16+8(A2)	3
	SWAP	D7	1
	MOVE	D7,N+16(A1)	3
	MOVE	D7,N2+16(A2)	3
N	SET	N+16		8
N2	SET	N2+16
	MOVEM.L	(A0)+,D0-D7	19
	
	MOVE	D0,N+16+8(A1)	3
	MOVE	D0,N2+16+8(A2)	3
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		9
N2	SET	N2+16
	MOVE	D1,N+16+8(A1)	3
	MOVE	D1,N2+16+8(A2)	3
	SWAP	D1	1
	MOVE	D1,N+16(A1)	3
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		10
N2	SET	N2+16
	MOVE	D2,N+16+8(A1)	3
	MOVE	D2,N2+16+8(A2)	3
	SWAP	D2	1
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		11
N2	SET	N2+16

	MOVE	D3,N+16+8(A1)	3

	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE	D3,N2+16+8(A2)	3
	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		12
N2	SET	N2+16

N	SET	N-12*16+230
N2	SET	N2-12*16-230

	DCB	13-10-3,$4E71
	MOVE	D4,N+16+8(A1)	3
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	D4,N2+16+8(A2)	3
	MOVE	D5,N+16+16+8(A1)	3
	MOVE	D5,N2+16+16+8(A2)	3
	MOVE	D6,N+16+16+16+8(A1)
	DCB	12-12,$4E71

*LIGNE 3
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D4	1
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		13
N2	SET	N2+16
	SWAP	D5	1
	MOVE	D5,N+16(A1)	3
	MOVE	D5,N2+16(A2)	3
N	SET	N+16		14
N2	SET	N2+16
	MOVE	D6,N2+16+8(A2)	3
	SWAP	D6	1
	MOVE	D6,N+16(A1)	3
	MOVE	D6,N2+16(A2)	3
N	SET	N+16		15
N2	SET	N2+16
	MOVE	D7,N+16+8(A1)	3
	MOVE	D7,N2+16+8(A2)	3
	SWAP	D7	1
	MOVE	D7,N+16(A1)	3
	MOVE	D7,N2+16(A2)	3
N	SET	N+16		16
N2	SET	N2+16
	MOVEM.L	(A0)+,D0-D7	19

	MOVE	D0,N+16+8(A1)	3
	MOVE	D0,N2+16+8(A2)	3
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		17
N2	SET	N2+16
	MOVE	D1,N+16+8(A1)	3
	MOVE	D1,N2+16+8(A2)	3
	SWAP	D1	1
	MOVE	D1,N+16(A1)	3
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		18
N2	SET	N2+16

	DCB	88-6-7-7-10-13-19-26,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE	D2,N+16+8(A1)	3
	MOVE	D2,N2+16+8(A2)	3
	SWAP	D2	1
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		19
N2	SET	N2+16
	DCB	13-13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	D3,N+16+8(A1)
	MOVE	D3,N2+16+8(A2)
	MOVE	D4,N+16+16+8(A1)
	MOVE	D4,N2+16+16+8(A2)
	DCB	12-12,$4E71

*LIGNE 4
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		20
N2	SET	N2+16
	SWAP	D4	1
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		21
N2	SET	N2+16

	MOVE	D5,N+16+8(A1)	3
	MOVE	D5,N2+16+8(A2)	3
	SWAP	D5	1
	MOVE	D5,N+16(A1)	3
	MOVE	D5,N2+16(A2)	3
N	SET	N+16		22
N2	SET	N2+16
	MOVE	D6,N+16+8(A1)	3
	MOVE	D6,N2+16+8(A2)	3
	SWAP	D6	1
	MOVE	D6,N+16(A1)	3
	MOVE	D6,N2+16(A2)	3
N	SET	N+16		23
N2	SET	N2+16
	MOVE	D7,N+16+8(A1)	3
	MOVE	D7,N2+16+8(A2)	3
	SWAP	D7	1
	MOVE	D7,N+16(A1)	3
	MOVE	D7,N2+16(A2)	3
N	SET	N+16		24
N2	SET	N2+16

N	SET	N-12*16+230
N2	SET	N2-12*16-230

	MOVEM.L	(A0)+,D0-D7	19
	MOVE	D0,N+16+8(A1)	3
	MOVE	D0,N2+16+8(A2)	3
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	DCB	88-6-14-13*3-29,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		25
N2	SET	N2+16
	MOVE	D1,N+16+8(A1)	3
	MOVE	D1,N2+16+8(A2)	3
	SWAP	D1	1
	MOVE	D1,N+16(A1)	3
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		26
N2	SET	N2+16
	MOVE	D2,N+16+8(A1)	3
	MOVE	D2,N2+16+8(A2)	3
	MOVE	D3,N+16+16+8(A1)	3
	DCB	12-3-6-3,$4E71

*** LIGNE 5

	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D2	1
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		27
N2	SET	N2+16
	MOVE	D3,N2+16+8(A2)	3
	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		28
N2	SET	N2+16
	
	MOVE	D4,N+16+8(A1)	3
	MOVE	D4,N2+16+8(A2)	3
	SWAP	D4	1
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		29
N2	SET	N2+16

	MOVE	D5,N+16+8(A1)	3
	MOVE	D5,N2+16+8(A2)	3
	SWAP	D5	1
	MOVE	D5,N+16(A1)	3
	MOVE	D5,N2+16(A2)	3
N	SET	N+16		30
N2	SET	N2+16
	MOVE	D6,N+16+8(A1)	3
	MOVE	D6,N2+16+8(A2)	3
	SWAP	D6	1
	MOVE	D6,N+16(A1)	3
	MOVE	D6,N2+16(A2)	3
N	SET	N+16		31
N2	SET	N2+16
	MOVE	D7,N+16+8(A1)	3
	MOVE	D7,N2+16+8(A2)	3
	SWAP	D7	1
	MOVE	D7,N+16(A1)	3
	MOVE	D7,N2+16(A2)	3
N	SET	N+16		32
N2	SET	N2+16

	MOVEM.L	(A0)+,D0-D4	13
	
	DCB	88-6-7-10-4*13-13,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE	D0,N+16+8(A1)	3
	MOVE	D0,N2+16+8(A2)	3
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		33
N2	SET	N2+16
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	D1,N+16+8(A1)	3
	MOVE	D1,N2+16+8(A2)	3
	MOVE	D2,N+16+16+8(A1)	3
	MOVE	D2,N2+16+16+8(A2)	3
	;DCB	12,$4E71
* LIGNE 6
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D1	1
	MOVE	D1,N+16(A1)	3
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		34
N2	SET	N2+16
	SWAP	D2	1
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		35
N2	SET	N2+16

	MOVE	D3,N+16+8(A1)	3
	MOVE	D3,N2+16+8(A2)	3
	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		36
N2	SET	N2+16

N	SET	N-12*16+230
N2	SET	N2-12*16-230

	MOVE	D4,N+16+8(A1)	3
	MOVE	D4,N2+16+8(A2)	3
	SWAP	D4	1
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		37
N2	SET	N2+16

	MOVEM.L	(A0)+,D0-D7	19

	MOVE	D0,N+16+8(A1)	3
	MOVE	D0,N2+16+8(A2)	3
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		38
N2	SET	N2+16

	MOVE	D1,N+16+8(A1)	3
	MOVE	D1,N2+16+8(A2)	3
	SWAP	D1	1

	DCB	88-6-19-13*2-14-13-7,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE	D1,N+16(A1)	3
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		39
N2	SET	N2+16
	MOVE	D2,N+16+8(A1)	3
	MOVE	D2,N2+16+8(A2)	3
	SWAP	D2	1
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		40	
N2	SET	N2+16
	MOVE	D3,N+16+8(A1)	3
	MOVE	D3,N2+16+8(A2)	3

*LIGNE 7
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		41
N2	SET	N2+16
	MOVE	D4,N+16+8(A1)	3
	MOVE	D4,N2+16+8(A2)	3
	SWAP	D4	1
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		42
N2	SET	N2+16
	MOVE	D5,N+16+8(A1)	3
	MOVE	D5,N2+16+8(A2)	3
	SWAP	D5	1
	MOVE	D5,N+16(A1)	3
	MOVE	D5,N2+16(A2)	3
N	SET	N+16		43
N2	SET	N2+16
	MOVE	D6,N+16+8(A1)	3
	MOVE	D6,N2+16+8(A2)	3
	SWAP	D6	1
	MOVE	D6,N+16(A1)	3
	MOVE	D6,N2+16(A2)	3
N	SET	N+16		44
N2	SET	N2+16
	MOVE	D7,N+16+8(A1)	3
	MOVE	D7,N2+16+8(A2)	3
	SWAP	D7	1
	MOVE	D7,N+16(A1)	3
	MOVE	D7,N2+16(A2)	3
N	SET	N+16		45
N2	SET	N2+16
	MOVEM.L	(A0)+,D0-D6	17

	MOVE	D0,N+16+8(A1)	3
	MOVE	D0,N2+16+8(A2)	3

	DCB	88-6-17-7-13*4-3-3,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		46
N2	SET	N2+16
	MOVE	D1,N+16+8(A1)	3
	MOVE	D1,N2+16+8(A2)	3
	;DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	D2,N+16+16+8(A1)
	MOVE	D2,N2+16+16+8(A2)
	MOVE	D3,N+16+16+16+8-12*16+230(A1)
	MOVE	D3,N2+16+16+16+8-12*16-230(A2)
	;DCB	12,$4E71


*LIGNE 8
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D1	1
	MOVE	D1,N+16(A1)	3
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		47
N2	SET	N2+16
	SWAP	D2	1
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		48
N2	SET	N2+16

N	SET	N-12*16+230
N2	SET	N2-12*16-230

	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		49
N2	SET	N2+16

	MOVE	D4,N+16+8(A1)	3
	MOVE	D4,N2+16+8(A2)	3
	SWAP	D4	1
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		50
N2	SET	N2+16
	MOVE	D5,N+16+8(A1)	3
	MOVE	D5,N2+16+8(A2)	3
	SWAP	D5	1
	MOVE	D5,N+16(A1)	3
	MOVE	D5,N2+16(A2)	3
N	SET	N+16		51
N2	SET	N2+16
	MOVE	D6,N+16+8(A1)	3
	MOVE	D6,N2+16+8(A2)	3
	SWAP	D6	1
	MOVE	D6,N+16(A1)	3
	MOVE	D6,N2+16(A2)	3
N	SET	N+16		52
N2	SET	N2+16
	MOVEM.L	(A0)+,D0-D7	19
	MOVE	D0,N+16+8(A1)	3
	DCB	88-6-21-13*3-19-3,$4E71
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)
	MOVE	D0,N2+16+8(A2)	3
	SWAP	D0	1
	MOVE	D0,N+16(A1)	3
	MOVE	D0,N2+16(A2)	3
N	SET	N+16		53
N2	SET	N2+16
	MOVE	D1,N+16+8(A1)	3
	;DCB	13,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE	D1,N2+16+8(A2)	3
	MOVE	D2,N+16+16+8(A1)	3
	MOVE	D2,N2+16+16+8(A2)	3
	MOVE	D3,N+16+16+16+8(A1)
	;DCB	12,$4E71

*LIGNE 9
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	MOVE.L	(A5)+,$FFFF8240.W
	SWAP	D1	1
	MOVE	D1,N+16(A1)	3
	MOVE	D1,N2+16(A2)	3
N	SET	N+16		54
N2	SET	N2+16
	SWAP	D2	1
	MOVE	D2,N+16(A1)	3
	MOVE	D2,N2+16(A2)	3
N	SET	N+16		55
N2	SET	N2+16
	MOVE	D3,N2+16+8(A2)	3
	SWAP	D3	1
	MOVE	D3,N+16(A1)	3
	MOVE	D3,N2+16(A2)	3
N	SET	N+16		56
N2	SET	N2+16

	MOVE	D4,N+16+8(A1)	3
	MOVE	D4,N2+16+8(A2)	3
	SWAP	D4	1
	MOVE	D4,N+16(A1)	3
	MOVE	D4,N2+16(A2)	3
N	SET	N+16		57
N2	SET	N2+16
	MOVE	D5,N+16+8(A1)	3
	MOVE	D5,N2+16+8(A2)	3
	SWAP	D5	1
	MOVE	D5,N+16(A1)	3
	MOVE	D5,N2+16(A2)	3
N	SET	N+16		58
N2	SET	N2+16
	MOVE	D6,N+16+8(A1)	3
	MOVE	D6,N2+16+8(A2)	3
	SWAP	D6	1
	MOVE	D6,N+16(A1)	3
	MOVE	D6,N2+16(A2)	3
N	SET	N+16		59
N2	SET	N2+16
	MOVE	D7,N+16+8(A1)	3
	MOVE	D7,N2+16+8(A2)	3
	SWAP	D7	1
	MOVE	D7,N+16(A1)	3
	MOVE	D7,N2+16(A2)	3
N	SET	N+16		60
N2	SET	N2+16


	DCB	88-6-7-7-10-4*13,$4E71	6
	MOVE.B	#0,(A3)
	MOVE	A3,(A3)

	LEA	230*5(A1),A1
	LEA	-230*5(A2),A2

	DCB	13-4,$4E71
	MOVE	A4,(A4)
	MOVE.B	#0,(A4)
	DCB	12-4-4,$4E71
	RTS


RT_EFF1
	MOVEQ	#0,D0
N	SET	0
	REPT	128
	MOVE	D0,4+N-6(A1)
N	SET	N+230
	ENDR
	LEA	230*128(A1),A1
N	SET	0
	REPT	128
	MOVE	D0,4+N-6(A1)
N	SET	N+230
	ENDR
	RTS
;RT_EFF2
;	MOVEQ	#0,D0
;	REPT	256
;	MOVE.L	D0,4(A1)
;	LEA	230(A1),A1
;	ENDR
;	RTS

SWAP
	move.l	SCREEN1,d0
	move.l	SCREEN2,SCREEN1
	move.l	d0,SCREEN2

	move.l	SCREEN,d0
	move.l	SCREENA,SCREEN
	move.l	d0,SCREENA

	move.l	VALUE,d0
	move.l	VALUE2,VALUE
	move.l	d0,VALUE2

	move.l	DATAPNT,d0
	move.l	DATAPNT2,DATAPNT
	move.l	d0,DATAPNT2


	rts

VBL_DEB	MOVE	#1,VBL_FLAG
	RTE
VBL_FLAG	DC	0
VSYNC	TST	VBL_FLAG
	BEQ.S	VSYNC
	CLR	VBL_FLAG
	RTS		

NOTHING	
	REPT	117
	NOP
	ENDR
	RTS

H70
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	89
	NOP				
	ENDR
	MOVE.B	D4,(A3)
	MOVE.B	D3,(A3)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	1
	NOP			 
	ENDR
	RTS	=4 NOPS
H44
;	MOVE.B	D3,(A4)
	NOP
;	MOVE.B	D4,(A4)
	REPT	89+4
	NOP				
	ENDR
	MOVE.B	D4,(A3)
	MOVE.B	D3,(A3)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	1
	NOP			 
	ENDR
	RTS	=4 NOPS
H24
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	89-2
	NOP				
	ENDR
	MOVE.B	D4,(A3)
	MOVE.B	D3,(A3)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	1+2
	NOP			 
	ENDR
	RTS	=4 NOPS
H2
;	MOVE.B	D3,(A4)
	NOP
;	MOVE.B	D4,(A4)
	REPT	89-2+4
	NOP				
	ENDR
	MOVE.B	D4,(A3)
	MOVE.B	D3,(A3)
	REPT	13
	NOP
	ENDR
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	1+2
	NOP			 
	ENDR
	RTS	=4 NOPS
H80
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	35
	NOP
	ENDR
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	49
	NOP				
	ENDR
	MOVE.B	D4,(A3)
	MOVE.B	D3,(A3)
	REPT	13		
	NOP
	ENDR
	MOVE.B	D3,(A4)
	NOP
	MOVE.B	D4,(A4)
	REPT	1
	NOP			 
	ENDR
	RTS

	SECTION	DATA
BUFI	INCBIN	ETAP
COD2
COD1	incbin	damier1b.cod
	DC.L	$12345678
	EVEN

;COD2	incbin	damier2B.cod
;	DC.L	$12345678
;	EVEN

SAVEA1	DC.L	0
SAVEA1B	DC.L	0


IMAGE	INCBIN	BLOCS.PI1
TEXTE	INCBIN	DATA2.TXT

PALETTE
	REPT	21
	DC	$777,$677
	ENDR
	DC	$667,$566
	DC	$777,$677
	REPT	32
	DC	$667,$566
	ENDR
	DC	$556,$455
	DC	$667,$566
	REPT	16
	DC	$556,$455
	ENDR
	DC	$445,$344
	DC	$556,$455
	REPT	8
	DC	$445,$344
	ENDR
	DC	$334,$233
	DC	$445,$344
	REPT	4
	DC	$334,$233
	ENDR
	DC	$223,$122
	DC	$334,$233
	REPT	3
	DC	$223,$122
	ENDR
	DC	$112,$101
	DC	$223,$122
	REPT	2
	DC	$112,$101
	ENDR
	DC	$001,$0
	DC	$112,$001
	DC	$001,$0

***
	;REPT	47-43
	;DC	$000,$777
	;ENDR

	DC	$000,$777
	DC	$000,$777

	DC	$000,$777
	DC	$100,$777
	DC	$200,$777
	DC	$300,$777
	DC	$400,$777
	DC	$500,$777
	DC	$600,$777
	DC	$700,$777
	DC	$710,$777
	DC	$720,$777
	DC	$730,$777
	DC	$740,$777
	DC	$750,$777
	DC	$760,$777
	DC	$770,$777
	DC	$771,$777
	DC	$772,$777
	DC	$773,$777
	DC	$774,$777
	DC	$775,$777
	DC	$776,$777
	DC	$777,$777
	DC	$776,$777
	DC	$775,$777
	DC	$774,$777
	DC	$773,$777
	DC	$772,$777
	DC	$771,$777
	DC	$770,$777
	DC	$760,$777
	DC	$750,$777
	DC	$740,$777
	DC	$730,$777
	DC	$720,$777
	DC	$710,$777
	DC	$700,$777
	DC	$600,$777
	DC	$500,$777
	DC	$400,$777
	DC	$300,$777
	DC	$200,$777
	DC	$100,$777
	DC	$000,$777

	DC	$000,$777
	DC	$000,$777
***
	DC	$001,0
	DC	$101,$122
	DC	$001,0
	DC	$101,$122
	DC	$101,$122
	DC	$212,$233
	DC	$101,$122
	REPT	3
	DC	$212,$233
	ENDR
	DC	$323,$344
	DC	$212,$233
	REPT	4
	DC	$323,$344
	ENDR
	DC	$434,$455
	DC	$323,$344
	REPT	8
	DC	$434,$455
	ENDR
	DC	$545,$566
	DC	$434,$455
	REPT	16
	DC	$545,$566
	ENDR
	DC	$656,$677
	DC	$545,$566
	REPT	32
	DC	$656,$677
	ENDR
	DC	$767,$777
	DC	$656,$677
	REPT	21+2
	DC	$767,$777
	ENDR
	DC	$700,$777
	DCB	3*20,0


DATA	
	DC.L	-256,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H44,H44,H44,H44,H44,H44
	DC.L	0,H24,H2,H2,H2,H2,NOTHING
	DC.L	0,H24,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	0,H80,H44,H2,H70,NOTHING,NOTHING
	DC.L	0,H44,H2,H2,NOTHING,NOTHING,NOTHING
	DC.L	0,H24,H24,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	0,H80,H70,H2,H2,H70,NOTHING
	DC.L	0,H70,H2,H2,H2,NOTHING,NOTHING
	DC.L	0,H24,H24,H24,NOTHING,NOTHING,NOTHING
	DC.L	0,H44,H44,H2,H2,H2,H2
	DC.L	0,H44,H44,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	256,H24,H24,H24,H24,NOTHING,NOTHING
	DC.L	-256,H80,H80,H80,H44,H44,NOTHING
	DC.L	0,H70,H44,H2,NOTHING,NOTHING,NOTHING
	DC.L	0,H24,H24,H24,H24,H24,NOTHING
	DC.L	0,H44,H44,H44,H2,H2,NOTHING
	DC.L	0,H70,H24,H44,H2,NOTHING,NOTHING
	DC.L	0,H24,H24,H24,H24,H24,H24
	DC.L	0,H80,H70,H70,H24,H2,H70

	DC.L	256,H70,H70,H24,H2,H2,NOTHING
	DC.L	0,H80,H2,H2,H2,H2,NOTHING	
	DC.L	-256,H80,NOTHING,NOTHING,NOTHING,NOTHING,NOTHING
	DC.L	512,H70,H70,H44,NOTHING,NOTHING,NOTHING
	DC.L	-512,H80,H80,H80,H80,NOTHING,NOTHING
	DC.L	0,H44,H44,H44,H44,H24,NOTHING
	DC.L	512,H70,H70,H70,H2,NOTHING,NOTHING
	DC.L	-512,H80,H80,H80,H80,H24,NOTHING
	DC.L	0,H44,H44,H44,H44,H24,H24
	
	DC.L	512,H70,H70,H24,H24,H44,NOTHING
	DC.L	-256,H80,H80,H80,H80,H24,H24
	DC.L	0,H2,H2,H2,H2,NOTHING,NOTHING

	DC.L	-1,-1

	SECTION	BSS
BSS_DEB
F_PILE	DS.L 	128	
D_PILE	DS.L 	1	
TABLE	DS.L	95
TABLE2	DS.L	95

GLOUBI	DS.L	1
SCREENA	DS.L	1
SCREEN	DS.L	1
SCREEN1	DS.L	1
SCREEN2	DS.L	1
SCREEN3	DS.L	1
DATAPNT2	DS.L	1
DATAPNT	DS.L	1
VALUE2	DS.L	1
VALUE	DS.L	1
ASCREEN2	DS.L	1
ASCREEN1	DS.L	1
PLUS	DS.L	1
PLUS3	DS.L	1
MEM_LET	DS.L	1
	DS.B	256
BUFFERSCR	DS.B	(64000+29440)*2
	ds.b	256
BUF_BIDON	DS.B	5000
BSS_END