DEBUT	LEA	NOM?(PC),A0		DEMANDE LE NOM
	BSR	PRINT
	LEA	BUFF(PC),A6
	BSR	READ_L

	LEA	START?(PC),A0	ADRESSE DE DEPART
	BSR	PRINT
	LEA	BUFF1(PC),A6
	BSR	READ_L
	BSR	TRANS
	LEA	START(PC),A0
	MOVE.L	D7,(A0)

	LEA	END?(PC),A0		ADRESSE DE FIN
	BSR	PRINT
	LEA	BUFF1(PC),A6
	BSR	READ_L
	BSR	TRANS
	LEA	END(PC),A0
	MOVE.L	D7,(A0)
	BRA	SUITE

BUFF	DC.B	12
	DC.B	0
	DS.B	12
	DC.B	0

BUFF1	DC.B	7
	DC.B	0
	DS.B	8

START	DS.L	1

END	DS.L	1

PRINT	PEA	(A0)
	MOVE	#9,-(SP)
	TRAP	#1
	ADDQ	#6,SP
	RTS

READ_L	PEA	(A6)
	MOVE	#10,-(SP)
	TRAP	#1
	ADDQ	#6,SP
	RTS
TRANS
	MOVEQ	#0,D7
	SUBQ	#1,D0
	ADDQ	#2,A6
BTRANS	MOVEQ	#0,D1
	MOVE.B	(A6)+,D1
	CMP.B	#"0",D1
	BLT.S	PAS0
	CMP.B	#"9",D1
	BGT.S	PAS9
	SUB.B	#"0",D1
	LSL.L	#4,D7
	OR	D1,D7
	BRA	NEXT_CH
PAS0
PAS9	CMP.B	#"A",D1
	BLT	DEBUT
	CMP.B	#"F",D1
	BGT	DEBUT
	SUB	#"A",D1
	ADD	#10,D1
	LSL.L	#4,D7
	OR	D1,D7
NEXT_CH	DBRA	D0,BTRANS
	RTS
NOM?	DC.B	27,"ENOM: ",0
START?	DC.B	13,10,"ADR DEPART: ",0
END?	DC.B	13,10,"ADR FIN: ",0
SU	DC.B	13,10,10,10,"JE SAUVE...",0
	EVEN
SUITE	

	LEA	SU(PC),A0
	BSR	PRINT

	MOVE	#0,-(SP)
	PEA	BUFF(PC)
	MOVE	#$3C,-(SP)
	TRAP	#1
	ADDQ	#8,SP
	MOVE	D0,-(SP)
	
	MOVE.L	START(PC),-(SP)
	MOVE.L	END(PC),D1
	SUB.L	START(PC),D1
	MOVE.L	D1,-(SP)
	MOVE	D0,-(SP)
	MOVE	#$40,-(SP)
	TRAP	#1
	LEA	12(SP),SP
	
	MOVE	#$3E,-(SP)
	TRAP	#1
	ADDQ	#4,SP
	
	RTS