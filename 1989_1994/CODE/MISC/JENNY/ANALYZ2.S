;	MOVE	D0,0(A0)	3140
;	MOVE	D1,0(A0)	3141
;	MOVE	D2,0(A0)	3142
;	MOVE	D3,0(A0)	3143
;	MOVE	D4,0(A0)	3144
;	MOVE	D5,0(A0)	3145
;	MOVE	D6,0(A0)	3146
;	MOVE	D7,0(A0)	3147
;	MOVE.L	D0,0(A0)	2140
;	MOVE.L	D1,0(A0)	2141
;	MOVE.L	D2,0(A0)	2142
;	MOVE.L	D3,0(A0)	2143
;	MOVE.L	D4,0(A0)	2144
;	MOVE.L	D5,0(A0)	2145
;	MOVE.L	D6,0(A0)	2146
;	MOVE.L	D7,0(A0)	2147
;	MOVE.L	#$0,0(A0)	217C
;	MOVE	#$0,0(A0)	317C

;A0 = pointeur sur les donn‚es
	LEA	COD1,A0
BOUCLE	MOVE	(A0),D0
	CMPI	#$2140,D0
	BGE.S	SAUT1
	BRA.S	SUITE1
SAUT1	CMPI	#$2147,D0
	BLE	SAUT
SUITE1	CMPI	#$3140,D0
	BGE.S	SAUT2
	BRA.S	SUITE2
SAUT2	CMPI	#$3147,D0
	BLE.S	SAUT
SUITE2
	CMPI	#$317C,D0
	BNE.S	NO_MOVE_W
	ADDQ.L	#1,PNT_MOVE_W
;	ADDQ.L	#6,A0
	BRA.S	RACCORD
NO_MOVE_W	CMPI	#$217C,D0
	BNE.S	NO_MOVE_L
**
	ADDQ.L	#1,PNT_MOVE_L
	ADDQ.L	#8,A0
	BRA	BOUCLE
RACCORD	LEA	TABLO,A2
	MOVE	2(A0),D1
LOOP	TST	(A2)
	BEQ.S	FIN_TABLO
	CMP	(A2),D1
	BEQ.S	DEJA_DS_TABLO
	ADDQ.L	#6,A2
	BRA.S	LOOP
FIN_TABLO	MOVE	D1,(A2)
	MOVE.L	#1,2(A2)
	ADDQ.L	#6,A0
	BRA.S	BOUCLE
DEJA_DS_TABLO	ADDQ.L	#1,2(A2)
	ADDQ.L	#6,A0
	BRA.S	BOUCLE
**
NO_MOVE_L	CMPI	#$4268,D0
	BNE.S	NON1
	ADDQ.L	#4,A0
	BRA.S	BOUCLE
NON1	CMPI	#$42A8,D0
	BNE.S	NON2
	ADDQ.L	#4,A0
	BRA.S	BOUCLE
NON2
	CMPI	#$4E75,D0
	BNE.S	NO_RTS
	ADDQ.L	#2,A0
	BRA	BOUCLE
NO_RTS	CMPI	#$9999,D0
	BNE.S	NO_END
ENDED	MOVE	#$070,$FFFF8240.W
	BRA.S	ENDED
NO_END	;MOVE	#$700,$FFFF8240.W
	;BRA.S	NO_END
SAUT	ADDQ.L	#4,A0
	BRA	BOUCLE

	DATA
COD1	incbin	damier1.cod
	DC.L	$99999999
	BSS
TABLO	DS.L	32000
PNT_MOVE_W	DS.L	1
PNT_MOVE_L	DS.L	1
