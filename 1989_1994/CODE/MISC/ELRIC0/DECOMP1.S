	CLR.L	-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	MOVE.L	D0,SAUV_SP

	CLR.W	-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.W	#5,-(SP)
	TRAP	#14
	LEA	12(SP),SP

	ANDI.B	#%11111000,$484.W

	MOVE.L	#FIN,$008
	MOVE.L	#FIN,$00C
	MOVE.L	#FIN,$010
	MOVE.L	#FIN,$014
	MOVE.L	#FIN,$018

	MOVEM.L	$FFFF8240.W,D0-D7
	MOVEM.L	D0-D7,SAUV_PAL
	MOVEM.L	PICT+2,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W

	MOVE.L	#PICT+34,A0
	MOVE.L	$44E.W,A1
RECOM	MOVEQ	#0,D0
	MOVE.B	(A0)+,D0
	CMPI.B	#0,D0
	BHS	AFF1
	BLO	AFF2

AFF1	MOVE.L	A1,A2
RAF1	MOVE.W	(A0)+,(A1)
	ADDQ.L	#8,A1
	DBRA	D0,RAF1
	MOVE.L	A2,A1
	ADDQ.L	#2,A1
	BRA	RECOM

AFF2	MOVE.L	A1,A2
	MOVE.B	(A0)+,D1
RAF2	MOVE.B	D1,(A1)
	MOVE.B	D1,1(A1)		
	ADDQ.L	#8,A1
	DBRA	D0,RAF2	
	ADDQ.L	#2,A1
	BRA	RECOM

;NEW_PL	CLR.L	NB_P
;	CLR.L	NB_LIG
;	ADDA.L	#38*4,A1
;	BRA	RECOM				

FIN	MOVEM.L	SAUV_PAL,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W

	BSET	#2,$484.W
	BSET	#1,$484.W
	BSET	#0,$484.W

	MOVE.L	SAUV_SP,-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP

	CLR.W	-(SP)
	TRAP	#1
	ADDQ.L	#2,SP

	SECTION	DATA
PICT	INCBIN	DARDEVIL.PC1

	SECTION	BSS
SAUV_PAL	DS.L	8
SAUV_SP	DS.L	1
OCT_LIG	DS.L	1
NB_LIG	DS.L	1