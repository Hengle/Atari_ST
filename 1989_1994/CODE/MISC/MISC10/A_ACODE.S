	PEA	0
	MOVE	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	MOVE	#$2310,SR
	MOVE.B	#$F1,$FFFFFC02.W
	MOVE.B	#$23,D2
	MOVE.L	#$100000,D5

	MOVE.L	$70.W,ANC_VBL
	MOVE.L	$24.W,ANC_24
	MOVE.L	$C.W,ANC_C
	MOVE.B	$FFFFFA07.W,TB1
	MOVE.B	$FFFFFA09.W,TB2
	
	OPT	O+,A+,P+
	St	$FFFF8240.W
	BSR.S	INIT
	MOVE	#$2700,SR
	CLR.B	$FFFFFA07.W
	CLR.B	$FFFFFA09.W
	MOVE.B	#$2,$FFFF820A.W
	MOVE.B	#$2,$FFFF8260.W
	MOVE.L	#$5A617021,$24.W
	MOVE.L	#$2A34322A,$C.W
	OPT	P-,A-,O-
	LEA	$50074,A0
	OPT	P+,A+,O+
	LEA	PRG,A1
	MOVE	#511,D1
LOCK	MOVE.B	(A1)+,(A0)+
	DBF	D1,LOCK
	OPT	P-,A-,O-
	MOVE.L	#$50074,$70.W
	JMP	$50076
	OPT	P+,A+,O+
INIT	
	MOVE	SR,D6
	MOVE.B	$FFFFFC02.W,D0
	MOVE.B	#$13,$FFFFFC02.W
	ADD.B	#42,D2
	RTS
TRUC_A_CODER
	OPT	A+,O+,P+
	
	CLR	-(SP)
	PEA	-1.W
	PEA	-1.W
	MOVE	#$5,-(SP)
	TRAP	#14
	ADDA.L	#12,SP
	
	PEA	TXT
	MOVE	#$9,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	
	MOVE	#$7,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	
	MOVE.L	#$FC06DE,$70.W
	PEA	0.W
	
	TRAP	#1
	DS.B	200
TXT	DC.B	"THIS IS A TEXT TO CHECK IF THERE'S NO BUGS",$A,$D

PRG	RTE
	MOVEQ	#(300/4)-1,D1
	OPT	A-,P-
	LEA	TRUC_A_CODER,A0
	LEA	$90000,A1
	OPT	A+,P+
AICI	ADD.L	$24.W,D5
	ADD.L	$70.W,D5
	ADD.L	$C.W,D5
	ADD.B	$FFFFFC02.W,D5
	ADD.B	$FFFF8260.W,D5
	ADD	D6,D5
	ADD.B	D2,D5
	ADD.B	D0,D5
	ADD.L	D5,(A0)
	MOVE.L	(A0)+,(A1)+
	DBF	D1,AICI
	CLR.B	$FFFF8260.W
;	JMP	$600.W

	MOVE.L	ANC_VBL,$70.W
	MOVE.L	ANC_24,$24.W
	MOVE.L	ANC_C,$C.W
	MOVE.B	TB1,$FFFFFA07.W
	MOVE.B	TB2,$FFFFFA09.W

	MOVE.B	#$12,$FFFFFC02.W
	MOVE	#$2300,SR
	PEA	0.W
	TRAP	#1

ANC_VBL	DS.L	1
ANC_24	DS.L	1
ANC_C	DS.L	1
TB1	DS.B	1
TB2	DS.B	1
