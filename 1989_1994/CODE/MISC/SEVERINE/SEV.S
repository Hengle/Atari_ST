DELTA_X = 160	(PIX)

PROG:
	CLR.L	-(SP)
	MOVE	#$20,-(SP)
	TRAP	#1
	ADDQ	#6,SP

	CLR	-(SP)
	PEA	-1.W
	PEA	-1.W
	MOVE	#5,-(SP)
	TRAP	#14
	LEA	12(SP),SP
	
	MOVE.L	#$02100532,$FFFF8240.W

	MOVEQ	#0,D0	1er pixel
	LSL	#8,D0

	MOVEQ	#0,D6
	MOVEQ	#0,D7
	MOVE	#DELTA_X,D7
	MOVE	D7,D6	D6=Taille sur l'‚cran
	;SUB	#100,D6

	LSL	#8,D6

	DIVS	D7,D6
	
	LEA	MINI_BUF,A0
	MOVE	#160-1,D4
.DO_A_LINE
	ADD	D6,D0
	MOVE	D0,D1
	LSR	#8,D1
	MOVE	D1,(A0)+
	DBF	D4,.DO_A_LINE

PART2	NOP

	LEA	GFX,A0
	LEA	TABLE_X,A2
	MOVE.L	$44E.W,A3
	MOVE	#127-1,D3
.Y	
	LEA	MINI_BUF,A1
	MOVE	#10-1,D7
.REDUC	MOVEQ	#15,D5
	MOVE	(A0)+,D6
.TST_A_BIT	
	BTST	D5,D6
	BEQ.S	.NUL
	MOVE	(A1),D0
	ADD	D0,D0
	ADD	D0,D0
	MOVE	(A2,D0.W),D1
	MOVE	2(A2,D0.W),D2
	OR	D1,(A3,D2.W)
	BRA.S	.SUIT
.NUL	MOVE	(A1),D0
	ADD	D0,D0
	ADD	D0,D0
	MOVE	(A2,D0.W),D1
	MOVE	2(A2,D0.W),D2
	NOT	D1
	AND	D1,(A3,D2.W)

.SUIT	ADDQ	#2,A1
	DBF	D5,.TST_A_BIT

	DBF	D7,.REDUC
	LEA	160(A3),A3
	DBF	D3,.Y
FINI	BRA.S	FINI
	DATA
GFX	INCBIN	SEV.GFX

TABLE_X
N	SET	0
	REPT	20
	DC	%1000000000000000,N
	DC	%100000000000000,N
	DC	%10000000000000,N
	DC	%1000000000000,N
	DC	%100000000000,N
	DC	%10000000000,N
	DC	%1000000000,N
	DC	%100000000,N
	DC	%10000000,N
	DC	%1000000,N
	DC	%100000,N
	DC	%10000,N
	DC	%1000,N
	DC	%100,N
	DC	%10,N
	DC	%1,N
N	SET	N+8
	ENDR

	BSS
MINI_BUF	DS.W	160