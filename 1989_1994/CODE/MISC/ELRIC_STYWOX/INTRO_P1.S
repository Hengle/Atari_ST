 	CLR.L	-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	MOVE.L	D0,SAUV_SP

	CLR.W	-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.W	#5,-(SP)
	TRAP	#14
	LEA	12(SP),SP

	MOVE.L	#FIN,$008
	MOVE.L	#FIN,$00C
	MOVE.L	#FIN,$010
	MOVE.L	#FIN,$014
	MOVE.L	#FIN,$018
	MOVE.L	#FIN,$01C
	MOVE.L	#FIN,$020

	MOVE.B	$FFFF8201.W,SAUVEC
	MOVE.B	$FFFF8203.W,SAUVEC+1
	BSR	PREP_ECR

	MOVE.W	#$000,COULEUR 

	BSR	PRP_QUART		;VA PREPARER LES DECALAGES DES 4 QUARTS DE CERLES

	MOVE.L	#COURB_1,PNT_1_CRB
	MOVE.L	#ROUTS_1,PNT_1_ROT
	MOVE.L	#COURB_Y,PNT_1_Y
	MOVE.L	#COURB_Y_2,PNT_2_Y
	MOVE.L	#COURB_2,PNT_2_CRB
	MOVE.L	#ROUTS_2,PNT_2_ROT

	MOVE.L	#PALET,PNT_FADE

	MOVE.L	#ROULO,PNT_ANIM
	MOVE.L	#DEPLAC_R,PNT_DEPR

	MOVE.W	#1,VBL_FLAG

	ANDI.B	#%11111000,$484.W

	MOVE.L	$4D2.W,ADR_ZIK

	MOVEM.L	$FFFF8240.W,D0-D7
	MOVEM.L	D0-D7,ANC_PAL
	MOVEM.L	PALET,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W

	MOVE.W 	#$FA00,A0
	MOVE.B	7(A0),IERA
	MOVE.B	9(A0),IERB
	MOVE.B	$F(A0),ISRA
	MOVE.B	$11(A0),ISRB
	MOVE.B	$13(A0),IMRA
	MOVE.B	$15(A0),IMRB
	MOVE.B	$17(A0),VR
	MOVE.B	$19(A0),TACR
	MOVE.B	$1B(A0),TBCR
	MOVE.B	$1D(A0),TCDCR
	MOVE.B	$1F(A0),TADR
	MOVE.B	$21(A0),TBDR
	
	MOVE.W	#$2700,SR
	CLR.B	$FFFFFA07.W
	CLR.B	$FFFFFA09.W
	
	MOVE.L	$70.W,ANC_VBL
	MOVE.L	$120.W,ANC_TIM
	MOVE.L	#VBLR,$70.W
	MOVE.L	#TB0,$120.W
	BSET	#0,$FFFFFA07.W
	BSET	#0,$FFFFFA13.W
	BCLR	#3,$FFFFFA17.W
	MOVE.W	#$2300,SR

	CLR.W	TEMPO
	JMP	INTRO_VBL

FIN	MOVE.W	#$2700,SR
	MOVE.L	ANC_VBL,$70.W
	MOVE.L	ANC_TIM,$120.W
	
	MOVE.W	#$FA00,A0
	MOVE.B	IERA,7(A0)
	MOVE.B	IERB,9(A0)
	MOVE.B	ISRA,$F(A0)
	MOVE.B	ISRB,$11(A0)
	MOVE.B	IMRA,$13(A0)
	MOVE.B	IMRB,$15(A0)
	MOVE.B	VR,$17(A0)
	MOVE.B	TACR,$19(A0)
	MOVE.B	TBCR,$1B(A0)
	MOVE.B	TCDCR,$1D(A0)
	MOVE.B	TADR,$1F(A0)
	MOVE.B	TBDR,$21(A0)
	MOVE.W	#$2300,SR

	MOVE.B	SAUVEC,$FFFF8201.W
	MOVE.B	SAUVEC+1,$FFFF8203.W

	MOVEM.L	ANC_PAL,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W

	TST.L	ADR_ZIK
	BEQ.S	SET_484
	ORI.B	#%00000110,$484.W
	BRA.S	SET_484+6
SET_484	ORI.B	#%00000111,$484.W
	
	MOVE.L	#$8080000,$FFFF8800.W
	MOVE.L	#$9090000,$FFFF8800.W
	MOVE.L	#$A0A0000,$FFFF8800.W
	
	MOVE.L	SAUV_SP,-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	
	CLR.W	-(SP)
	TRAP	#1
	ADDQ.L	#2,SP
	
	*******	V B L  &  P R O C E D U R E S    *******
VBLR	CLR.B	$FFFFFA1B.W
	CLR.W	VBL_FLAG
	CMPI.B	#1,$FFFFFC02.W
	BEQ	FIN
	RTE

TB0	MOVE.L	(A6)+,$FFFF8240.W
	MOVE.L	(A6)+,$FFFF8244.W
	MOVE.L	(A6)+,$FFFF8248.W
	MOVE.L	(A6)+,$FFFF824C.W
	MOVE.L	(A6)+,$FFFF8250.W
	MOVE.L	(A6)+,$FFFF8254.W
	MOVE.L	(A6)+,$FFFF8258.W
	MOVE.L	(A6)+,$FFFF825C.W
	MOVE.B	#88,$FFFFFA21.W
	MOVE.L	#TB1,$120.W
	RTE

TB1	MOVE.W	VALOR,$FFFF8242.W
	CLR.B	$FFFFFA21.W
	CLR.B	$FFFFFA1B.W
 	CLR.L	$120.W
	RTE

SWAPEC	MOVE.L	SCREEN1,D0
	MOVE.L	SCREEN2,SCREEN1
	MOVE.L	D0,SCREEN2
	MOVE.B	SCREEN1+1,$FFFF8201.W
	MOVE.B	SCREEN1+2,$FFFF8203.W
	RTS
	
PREP_ECR	MOVE.L	#BUFFER,D0
	CLR.B	D0
	MOVE.L	D0,SCREEN1
	ADDI.L	#32000,D0
	MOVE.L	D0,SCREEN2
	MOVE.B	SCREEN1+1,$FFFF8201.W
	MOVE.B	SCREEN1+2,$FFFF8203.W
	RTS

	*******	V B L  &  P R O C E D U R E S    *******
INTRO_VBL	TST.W	VBL_FLAG
	BNE.S	INTRO_VBL
	BSR	AFF_SPR_1
	BSR	AFF_SPR_2
	BSR	AFF_SPR_3
	BSR	AFF_SPR_4
	BSR	SWAPEC
	CMPI.W	#$4E71,TEMPO
	BNE.S	CONT_VBLI1
	MOVE.W	#2,TEMPO
	MOVE.W	#1,VBL_FLAG
	JMP	INTRO2VBL
CONT_VBLI1	SF	$FFFF8240.W
	MOVE.W	#1,VBL_FLAG
	BRA	INTRO_VBL
	
INTRO2VBL	TST.W	VBL_FLAG
	BNE.S	INTRO2VBL
	MOVE.W	COULEUR,$FFFF8240.W
	LEA	PIC_ROND,A0
	MOVE.L	SCREEN2,A2
	LEA	48+(160*38)(A2),A2
	MOVEQ	#0,D0
	REPT	80
	MOVE.L	D0,(A2)+
	ENDR
N	SET	0
	REPT	120
	CLR.L	N-8(A2)
	CLR.L	N-4(A2)
	MOVEM.L	(A0)+,D0-D7/A3-A5
	MOVEM.L	D0-D7/A3-A5,N(A2)
	MOVEM.L	(A0)+,D0-D4
	MOVEM.L	D0-D4,N+44(A2)
N	SET	N+160
	ENDR
	LEA	160*120(A2),A2
	MOVEQ	#0,D0
	REPT	80
	MOVE.L	D0,(A2)+
	ENDR
	BSR	SWAPEC
	SF	$FFFF8240.W
	SUBQ.W	#1,TEMPO
	TST.W	TEMPO
	BNE.S	SUIT_INTR2
	MOVE.L	#3,PNT_1_CRB
	MOVE.W	#1,VBL_FLAG
	JMP	INTRO3VBL
SUIT_INTR2	MOVE.W	#1,VBL_FLAG
	BRA	INTRO2VBL

INTRO3VBL	TST.W	VBL_FLAG
	BNE.S	INTRO3VBL
	TST.L	PNT_1_CRB
	BNE.S	SUITV3
	MOVE.L	#3,PNT_1_CRB
	MOVE.L	PNT_FADE,A0
	LEA	$FFFF8240.W,A1
	MOVEM.L	(A0)+,D0-D7
	MOVEM.L	D0-D7,(A1)
	MOVE.L	(A0),D0
	BPL.S	SUIT_FAD
	MOVE.W	#1,VBL_FLAG
	JMP	INTRO4VBL
SUIT_FAD	MOVE.L	A0,PNT_FADE
SUITV3	SUBQ.L	#1,PNT_1_CRB
	BSR	SWAPEC
	MOVE.W	#1,VBL_FLAG
	BRA	INTRO3VBL

INTRO4VBL	TST.W	VBL_FLAG
	BNE.S	INTRO4VBL
	MOVE.W	COULEUR,$FFFF8240.W
	MOVE.L	SCREEN2,A0
	MOVE.L	PNT_DEPR,A1
	SUBQ.L	#4,A1
	ADDA.W	(A1),A0
	LEA	48(A0),A0
	MOVEQ	#0,D0
	MOVEQ	#0,D1
	MOVEQ	#0,D2
	MOVEQ	#0,D3
	MOVEQ	#0,D4
	MOVEQ	#0,D5
	MOVEQ	#0,D6
	MOVEQ	#0,D7
N	SET	0
	REPT	120
	MOVEM.L	D0-D7,N(A0)
	MOVEM.L	D0-D7,N+32(A0)
N	SET	N+160
	ENDR
	BSR	ANIMATION
	BSR	SWAPEC
	SF	$FFFF8240.W
	MOVE.W	#1,VBL_FLAG
	BRA	INTRO4VBL

INTRO5VBL	TST.W	VBL_FLAG
	BNE.S	INTRO5VBL
	MOVE.W	COULEUR,$FFFF8240.W
	MOVE.L	PNT_2_CRB,A2
	SUBQ.L	#4,A2
	LEA	CODES2,A1
	MOVE.L	SCREEN2,A0
	LEA	24(A0),A0
	LEA	160*199(A0),A0
	ADDA.W	(A2)+,A1
	LEA	CODES2+202,A3
	ADDA.W	(A1),A3
	MOVEQ	#0,D0
	JSR	(A3)
CONT_EFF
	MOVE.L	PNT_2_CRB,A2
	LEA	CODES,A1
	MOVE.L	SCREEN2,A0
	LEA	24(A0),A0
	LEA	160*199(A0),A0
	ADDA.W	(A2)+,A1
	LEA	CODES+202,A3
	ADDA.W	(A1),A3
	JSR	(A3)
	BSR	SWAPEC

	MOVE.W	(A2),D0
	BPL	CONT_SCR
	LEA	PRESENT_GRF,A0
	MOVE.L	SCREEN1,A2
	LEA	64+(160*180)(A2),A2
N	SET	0
	REPT	21
	MOVEM.L	(A0)+,D0-D7
	MOVEM.L	D0-D7,N(A2)
N	SET	N+160
	ENDR
	MOVE.L	#ANIM_COUL,PNT_FADE
	MOVE.W	#3,PNT_1_CRB
	MOVE.W	#1,VBL_FLAG
	JMP	INTRO6VBL
CONT_SCR	MOVE.L	A2,PNT_2_CRB
	SF	$FFFF8240.W
	MOVE.W	#1,VBL_FLAG
	BRA	INTRO5VBL

INTRO6VBL	TST.W	VBL_FLAG
	BNE.S	INTRO6VBL
	MOVEM.L	PALET,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W
	CLR.B	$FFFFFA1B.W
	MOVE.B	#180,$FFFFFA21.W
	MOVE.L	#TB2,$120.W
	MOVE.L	PNT_FADE,A6
	MOVE.B	#8,$FFFFFA1B.W
	MOVE.L	PNT_FADE,A0
	TST.W	PNT_1_CRB
	BNE.S	SUITV6
	MOVE.W	#3,PNT_1_CRB
	ADDQ.L	#4,A0
	MOVE.L	(A0),D0
	BPL.S	SUITV6
	MOVE.W	#1,VBL_FLAG
	JMP	INTRO7VBL
SUITV6	MOVE.L	A0,PNT_FADE
	SUBQ.W	#1,PNT_1_CRB
	MOVE.W	#1,VBL_FLAG
	BRA	INTRO6VBL

INTRO7VBL	TST.W	VBL_FLAG
	BNE.S	INTRO7VBL
	CMPI.B	#$39,$FFFFFC02.W
	BNE	FIN_VBL
	MOVE.L	#VBLR,$70.W
	MOVE.L	#PALET_1,PNT_FADE
	MOVE.W	#5,TEMPO
	MOVE.W	#1,VBL_FLAG
	JMP	VBL_FADE1
FIN_VBL	MOVE.W	#1,VBL_FLAG
	BRA	INTRO7VBL

VBL_FADE1	TST.W	VBL_FLAG
	BNE.S	VBL_FADE1
	MOVE.L	PNT_FADE,A0
	TST.W	TEMPO
	BNE.S	SUIT_FADE22
	MOVE.W	#5,TEMPO
	MOVEM.L	(A0)+,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W
	CMPI.L	#-1,(A0)
	BNE.S	SUIT_FADE22
	BRA	FIN
SUIT_FADE22	SUBQ.W	#1,TEMPO
	MOVE.L	A0,PNT_FADE
	MOVE.W	#1,VBL_FLAG
	BRA	VBL_FADE1

TB2	MOVE.W	(A6)+,$FFFF8254.W
	MOVE.W	(A6),$FFFF8258.W
	RTE

ANIMATION	MOVE.L	PNT_ANIM,A0
	MOVE.L	PNT_DEPR,A1
	MOVE.L	SCREEN2,A4
	ADDA.W	(A1)+,A4
	LEA	48(A4),A4
CONT_AFF	LEA	PIC_ROND,A1
	MOVE.L	A4,A2
	ADDA.W	(A0)+,A2
	ADDA.W	(A0)+,A1
	MOVEM.L	(A1)+,D0-D7/A3/A5
	MOVEM.L	D0-D7/A3/A5,(A2)
	MOVEM.L	(A1)+,D0-D5
	MOVEM.L	D0-D5,40(A2)
	MOVE.W	(A0),D0
	BPL.S	CONT_AFF

	ADDQ.L	#2,A0
	MOVE.W	(A0),D0
	BPL.S	SUIT_ROUL
	LEA	ROULO,A0
	MOVE.L	#STYWOX_SCR,PNT_2_CRB
	MOVE.W	#1,VBL_FLAG
	JMP	INTRO5VBL
SUIT_ROUL	MOVE.L	PNT_DEPR,A1
	ADDQ.L	#2,A1
	CMPI.W	#-1,(A1)
	BNE.S	FIN_ROULO
	SUBQ.L	#2,A1
FIN_ROULO	MOVE.L	A0,PNT_ANIM
	MOVE.L	A1,PNT_DEPR
	RTS

AFF_SPR_1	MOVE.L	PNT_1_CRB,A5
	MOVE.L	PNT_1_ROT,A4
	MOVE.L	PNT_1_Y,A6
	MOVE.L	SCREEN2,A1
	LEA	PACK_ADR,A2
	MOVE.W	(A5)+,D0
	ADDA.W	(A4),A1
	ADDA.W	(A6)+,A1
	MOVE.L	(A2,D0.W),A0
	MOVE.L	2(A4),A2
	JSR	(A2)

	RTS

AFF_SPR_2	MOVE.L	PNT_2_CRB,A5
	MOVE.L	PNT_2_ROT,A4
	MOVE.L	PNT_1_Y,A6
	MOVE.L	SCREEN2,A1
	ADDA.W	(A6),A1
	LEA	-320(A1),A1
	BSR	EFF_LIG
	MOVE.L	SCREEN2,A1
	LEA	PACK_ADR+16,A2
	MOVE.W	(A5)+,D0
	ADDA.W	(A4),A1
	ADDA.W	(A6)+,A1
	MOVE.L	(A2,D0.W),A0
	MOVE.L	2(A4),A2
	JSR	(A2)

	ADDQ.L	#2,PNT_1_Y
	MOVE.L	PNT_1_Y,A0
	CMPI.W	#-1,(A0)
	BNE.S	FIN_SPR_2

	MOVE.W	#$4E71,TEMPO

FIN_SPR_2	RTS

AFF_SPR_3	MOVE.L	PNT_1_CRB,A5
	MOVE.L	PNT_1_ROT,A4
	MOVE.L	PNT_2_Y,A6
	MOVE.L	SCREEN2,A1
	LEA	PACK_ADR+32,A2
	MOVE.W	(A5)+,D0
	ADDA.W	(A4),A1
	ADDA.W	(A6)+,A1
	MOVE.L	(A2,D0.W),A0
	MOVE.L	2(A4),A2
	JSR	(A2)

	CMPI.W	#-1,(A5)
	BNE.S	SUIT_1
	LEA	COURB_1,A5
	ADDQ.L	#6,A4
	CMPI.L	#-1,(A4)
	BNE.S	SUIT_1
	SUBQ.L	#6,A4
	;ADDQ.L	#6,A5
SUIT_1	MOVE.L	A5,PNT_1_CRB
	MOVE.L	A4,PNT_1_ROT

	RTS

AFF_SPR_4	MOVE.L	PNT_2_CRB,A5
	MOVE.L	PNT_2_ROT,A4
	MOVE.L	PNT_2_Y,A6
	MOVE.L	SCREEN2,A1
	ADDA.W	(A6),A1
	LEA	(160*60)(A1),A1
	BSR	EFF_LIG
	MOVE.L	SCREEN2,A1
	LEA	PACK_ADR+48,A2
	MOVE.W	(A5)+,D0
	ADDA.W	(A4),A1
	ADDA.W	(A6)+,A1
	MOVE.L	(A2,D0.W),A0
	MOVE.L	2(A4),A2
	JSR	(A2)

	CMPI.W	#-1,(A6)
	BNE.S	TEST_4
	SUBQ.L	#2,A6
TEST_4	CMPI.W	#-1,(A5)
	BNE.S	SUIT_4
	SUBQ.L	#8,A5
	ADDQ.L	#6,A4
	CMPI.L	#-1,(A4)
	BNE.S	SUIT_4
	SUBQ.L	#6,A4
	;ADDQ.L	#6,A5
SUIT_4	MOVE.L	A6,PNT_2_Y 
	MOVE.L	A5,PNT_2_CRB
	MOVE.L	A4,PNT_2_ROT

	RTS

EFF_LIG	MOVEQ	#0,D7
	REPT	80
	MOVE.L	D7,(A1)+
	ENDR
	RTS

	*** DIFFERENTES ROUTINES D'AFFICHAGES ( CLIPPING ) !!! ***

	*** CLIPPING GAUCHE !!! ***
AFFICH1
N	SET	0
	REPT	60
	LEA	32(A0),A0
	MOVE.L	(A0)+,N(A1)
	MOVE.L	(A0)+,N+4(A1)
N	SET	N+160
	ENDR
	RTS

AFFICH2
N	SET	0
	REPT	60
	LEA	24(A0),A0
	MOVE.L	(A0)+,N(A1)
	MOVE.L	(A0)+,N+4(A1)
	MOVE.L	(A0)+,N+8(A1)
	MOVE.L	(A0)+,N+12(A1)
N	SET	N+160
	ENDR
	RTS

AFFICH3
N	SET	0
	REPT	60
	LEA	16(A0),A0
	MOVEM.L	(A0)+,D0-D5
	MOVEM.L	D0-D5,N(A1)
N	SET	N+160
	ENDR
	RTS

AFFICH4
N	SET	0
	REPT	60
	ADDQ.L	#8,A0
	MOVEM.L	(A0)+,D0-D7
	MOVEM.L	D0-D7,N(A1)
N	SET	N+160
	ENDR
	RTS

AFFICH5
N	SET	0
	REPT	60
	CLR.L	N-8(A1)
	CLR.L	N-4(A1)
	MOVEM.L	(A0)+,D0-D7/A2-A3
	MOVEM.L	D0-D7/A2-A3,N(A1)
N	SET	N+160
	ENDR
	RTS

	*** CLIPPING DROIT !!! ***

AFFICH21
N	SET	0
	REPT	60
	MOVE.L	(A0)+,N(A1)
	MOVE.L	(A0)+,N+4(A1)
	LEA	32(A0),A0
N	SET	N+160
	ENDR
	RTS

AFFICH22
N	SET	0
	REPT	60
	MOVE.L	(A0)+,N(A1)
	MOVE.L	(A0)+,N+4(A1)
	MOVE.L	(A0)+,N+8(A1)
	MOVE.L	(A0)+,N+12(A1)
	LEA	24(A0),A0
N	SET	N+160
	ENDR
	RTS

AFFICH23
N	SET	0
	REPT	60
	MOVEM.L	(A0)+,D0-D5
	MOVEM.L	D0-D5,N(A1)
	LEA	16(A0),A0
N	SET	N+160
	ENDR
	RTS

AFFICH24
N	SET	0
	REPT	60
	MOVEM.L	(A0)+,D0-D7
	MOVEM.L	D0-D7,N(A1)
	ADDQ.L	#8,A0
N	SET	N+160
	ENDR
	RTS

AFFICH25
N	SET	0
	REPT	60
	MOVEM.L	(A0)+,D0-D7/A2-A3
	MOVEM.L	D0-D7/A2-A3,N(A1)
N	SET	N+160
	ENDR
	RTS

	*** SOUS-ROUTINES D'INITS ***
PRP_QUART	LEA	PACK_ADR,A6
	LEA	PIC_ROND,A0
	LEA	BUF_CERCLE,A1
	BSR	PREDECAL
	LEA	PIC_ROND+32,A0
	BSR	PREDECAL
	LEA	PIC_ROND+(64*60),A0
	BSR	PREDECAL
	LEA	PIC_ROND+(64*60)+32,A0
	BSR	PREDECAL
	RTS

PREDECAL	MOVE.W	#59,D6	;AFFICHE LE QUART DE CERCLE EN MEMOIRE
PREAF2	MOVE.W	#7,D7
PREAF1	MOVE.L	(A0)+,(A1)+
	DBRA	D7,PREAF1
	CLR.L	(A1)+
	CLR.L	(A1)+
	LEA	32(A0),A0
	DBRA	D6,PREAF2

	LEA	-(40*60)(A1),A0	;ROUTINE DE PREDECALAGES
	MOVE.L	A0,(A6)+

	MOVE.W	#2,D3
RECOM_DEC	MOVE.L	A1,(A6)+
	MOVE.W	#(10*60)-1,D7
RECOPY1	MOVE.L	(A0)+,(A1)+
	DBRA	D7,RECOPY1
	MOVE.W	#3,D4		;DECALAGES DE 4-->4 DECALAGES
NB_DECAL	MOVE.W	#59,D5
DECALY	MOVE.W	#3,D6
DECAL2	MOVE.W	#4,D7
DECAL1	ROXR	(A0)
	ADDQ.L	#8,A0
	DBRA	D7,DECAL1
	LEA	-38(A0),A0
	DBRA	D6,DECAL2
	LEA	32(A0),A0
	DBRA	D5,DECALY
	LEA	-(40*60)(A0),A0
	DBRA	D4,NB_DECAL
	DBRA	D3,RECOM_DEC
	RTS

	INCLUDE	DEC_PC1.COD

;	INCLUDE	REMPLISS.S
	
	SECTION	DATA
CODES	INCBIN	STYWOX.BIN

CODES2	INCBIN	STYWOX.EFF

PIC_ROND	INCBIN	ROND_STY.PIC

CORES	DC.W	15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0

FADE_ULT	DC.W	0,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000
	DC.W	0,$000,$000,$000,$110,$110,$110,$110,$000,$100,$000,$000,$000,$100,$000,$111
	DC.W	0,$111,$000,$000,$220,$220,$220,$220,$000,$200,$100,$000,$000,$210,$000,$222
	DC.W	0,$222,$111,$000,$331,$330,$330,$330,$000,$310,$200,$100,$000,$320,$000,$333
	DC.W	0,$333,$222,$000,$442,$440,$440,$440,$000,$420,$310,$200,$100,$430,$100,$444
	DC.W	0,$444,$333,$111,$553,$551,$550,$550,$100,$530,$420,$310,$200,$540,$200,$555
	DC.W	0,$555,$444,$222,$664,$662,$661,$660,$200,$640,$530,$420,$310,$650,$300,$666
FIN_FADE	DC.L	-1

PALET_BLANCS	DC.W	0,$666,$555,$333,$775,$773,$772,$770,$310,$750,$640,$530,$420,$760,$400,$777
	DC.W	0,$777,$666,$444,$776,$774,$773,$771,$421,$761,$751,$641,$531,$771,$511,$777
	DC.W	0,$777,$777,$555,$777,$775,$774,$772,$532,$772,$762,$752,$642,$772,$622,$777
	DC.W	0,$777,$777,$666,$777,$776,$775,$773,$643,$773,$773,$763,$753,$773,$733,$777
	DC.W	0,$777,$777,$777,$777,$777,$776,$774,$754,$774,$774,$774,$764,$774,$744,$777
	DC.W	0,$777,$777,$777,$777,$777,$777,$775,$765,$775,$775,$775,$775,$775,$755,$777
	DC.W	0,$777,$777,$777,$777,$777,$777,$776,$776,$776,$776,$776,$776,$776,$766,$777
	DC.W	0,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777

	DC.W	0,$777,$777,$777,$777,$777,$777,$776,$776,$776,$776,$776,$776,$776,$766,$777
	DC.W	0,$777,$777,$777,$777,$777,$777,$775,$765,$775,$775,$775,$775,$775,$755,$777
	DC.W	0,$777,$777,$777,$777,$777,$776,$774,$754,$774,$774,$774,$764,$774,$744,$777
	DC.W	0,$777,$777,$666,$777,$776,$775,$773,$643,$773,$773,$763,$753,$773,$733,$777
	DC.W	0,$777,$777,$555,$777,$775,$774,$772,$532,$772,$762,$752,$642,$772,$622,$777
	DC.W	0,$777,$666,$444,$776,$774,$773,$771,$421,$761,$751,$641,$531,$771,$511,$777
	DC.W	0,$666,$555,$333,$775,$773,$772,$770,$310,$750,$640,$530,$420,$760,$400,$777
	DC.L	-1

PALET	DC.W	0,$010,$021,$032,$043,$054,$065,$076,$276,$576,$700,$755,$500,$400,$377,$777
	DC.W	0,$121,$132,$143,$154,$165,$176,$177,$377,$677,$711,$766,$611,$511,$477,$777
	DC.W	0,$232,$243,$254,$265,$276,$277,$277,$477,$777,$722,$777,$722,$622,$577,$777
	DC.W	0,$343,$354,$365,$376,$377,$377,$377,$577,$777,$733,$777,$733,$733,$677,$777
	DC.W	0,$454,$465,$476,$477,$477,$477,$477,$677,$777,$744,$777,$744,$744,$777,$777
	DC.W	0,$565,$576,$577,$577,$577,$577,$577,$777,$777,$755,$777,$755,$755,$777,$777
	DC.W	0,$676,$677,$677,$677,$677,$677,$677,$777,$777,$766,$777,$766,$766,$777,$777
	DC.W	0,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777,$777
	DC.W	0,$676,$677,$677,$677,$677,$677,$677,$777,$777,$766,$777,$766,$766,$777,$777
	DC.W	0,$565,$576,$577,$577,$577,$577,$577,$777,$777,$755,$777,$755,$755,$777,$777
	DC.W	0,$454,$465,$476,$477,$477,$477,$477,$677,$777,$744,$777,$744,$744,$777,$777
	DC.W	0,$343,$354,$365,$376,$377,$377,$377,$577,$777,$733,$777,$733,$733,$677,$777
	DC.W	0,$232,$243,$254,$265,$276,$277,$277,$477,$777,$722,$777,$722,$622,$577,$777
	DC.W	0,$121,$132,$143,$154,$165,$176,$177,$377,$677,$711,$766,$611,$511,$477,$777
	DC.W	0,$010,$021,$032,$043,$054,$065,$076,$276,$576,$700,$755,$500,$400,$377,$777
	DC.L	-1

ROULO	INCBIN	ANIM_2.CRB
N	SET	0
N2	SET	0
	REPT	120
	DC.W	N,N2
N	SET	N+160
N2	SET	N2+64
	ENDR
	DC.W	-1
N	SET	0
N2	SET	0
	REPT	120
	DC.W	N,N2
N	SET	N+160
N2	SET	N2+64
	ENDR
	DC.W	-1
	DC.L	-1

ANIM_COUL	DC.L	0,$01110111,$02220222,$03330333,$04440444,$05550555,$06660666,$07770777
	DC.L	$06660666,$05550555,$05440444,$05330433,$05220422,$05110411,$05000400,-1

PRESENT_GRF	INCBIN	PRESENTS.PIC
	
	*** COURBE DU QUART DE CERCLE HAUT-GAUCHE ***
COURB_1	DC.W	0,4,8,12,-1

ROUTS_1	DC.W	0
	DC.L	AFFICH1
	DC.W	0
	DC.L	AFFICH2
	DC.W	0
	DC.L	AFFICH3
	DC.W	0
	DC.L	AFFICH4
N	SET	0
	REPT	6
	DC.W	N
	DC.L	AFFICH5
N	SET	N+8
	ENDR
	DC.L	-1

COURB_2	DC.W	12,8,4,0,-1

ROUTS_2	DC.W	152
	DC.L	AFFICH21
	DC.W	144
	DC.L	AFFICH22
	DC.W	136
	DC.L	AFFICH23
	DC.W	128
	DC.L	AFFICH24
N	SET	120
	REPT	6
	DC.W	N
	DC.L	AFFICH25
N	SET	N-8
	ENDR
	DC.L	-1

COURB_Y	
N	SET	0
	REPT	40
	DC.W	N*160
N	SET	N+1
	ENDR
	DC.W	-1

COURB_Y_2
N	SET	199-60
	REPT	40
	DC.W	N*160
N	SET	N-1
	ENDR
	DC.W	-1

	DC.W	0,40*160
DEPLAC_R
N	SET	40
	REPT	40
	DC.W	N*160
	DC.W	N*160
N	SET	N-1
	ENDR
	DC.W	0
	DC.W	0
	DC.W	0
	DC.W	-1

	DC.W	200
	DC.W	200
STYWOX_SCR	INCBIN	ARR_STY.CRB
	DC.W	0
 	DC.W	-1

PALET_1	
	DC.W	0,$010,$021,$032,$043,$054,$065,$076,$276,$576,$700,$755,$500,$400,$377,$777
	DC.W	0,$000,$010,$021,$032,$043,$054,$065,$165,$465,$600,$644,$400,$300,$266,$666
	DC.W	0,$000,$000,$010,$021,$032,$043,$054,$054,$354,$500,$533,$300,$200,$155,$555
	DC.W	0,$000,$000,$000,$010,$021,$032,$043,$043,$243,$400,$422,$200,$100,$044,$444
	DC.W	0,$000,$000,$000,$000,$010,$021,$032,$032,$132,$300,$311,$100,$000,$033,$333
	DC.W	0,$000,$000,$000,$000,$000,$010,$021,$021,$021,$200,$200,$000,$000,$022,$222
	DC.W	0,$000,$000,$000,$000,$000,$000,$010,$010,$010,$100,$100,$000,$000,$011,$111
	DC.W	0,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000
	DC.L	-1

PALET_2	DC.W	0,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000
	DC.W	0,$000,$000,$000,$110,$110,$110,$110,$100,$100,$000,$000,$000,$000,$000,$111
	DC.W	0,$000,$000,$000,$220,$220,$220,$220,$210,$200,$100,$000,$000,$000,$000,$222
	DC.W	0,$000,$000,$000,$331,$330,$330,$330,$320,$310,$200,$100,$000,$000,$000,$333
	DC.W	0,$000,$000,$000,$442,$440,$440,$440,$430,$420,$310,$200,$100,$000,$100,$444
	DC.W	0,$000,$000,$000,$553,$551,$550,$550,$540,$530,$420,$310,$200,$100,$200,$555
	DC.W	0,$000,$000,$000,$664,$662,$661,$660,$650,$640,$530,$420,$310,$200,$300,$666
	DC.W	0,$000,$000,$000,$775,$773,$772,$770,$760,$750,$640,$530,$420,$310,$400,$777
	DC.L	-1

PALET_3	DC.W	0,$222,$444,$777,$775,$773,$772,$770,$310,$750,$640,$530,$420,$760,$400,$777
	DC.W	0,$111,$333,$666,$664,$662,$661,$660,$200,$640,$530,$420,$310,$650,$300,$666
	DC.W	0,$000,$222,$555,$553,$551,$550,$550,$100,$530,$420,$310,$200,$540,$200,$555
	DC.W	0,$000,$111,$444,$442,$440,$440,$440,$000,$420,$310,$200,$100,$430,$100,$444
	DC.W	0,$000,$000,$333,$331,$330,$330,$330,$000,$310,$200,$100,$000,$320,$000,$333
	DC.W	0,$000,$000,$222,$220,$220,$220,$220,$000,$200,$100,$000,$000,$210,$000,$222
	DC.W	0,$000,$000,$111,$110,$110,$110,$110,$000,$100,$000,$000,$000,$100,$000,$111
	DC.W	0,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000
	DC.L	-1

PALET_4	DC.W	0,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000,$000
	DC.W	0,$000,$000,$000,$000,$000,$100,$000,$000,$000,$000,$000,$000,$000,$100,$111
	DC.W	0,$000,$011,$000,$000,$100,$210,$000,$000,$000,$000,$000,$000,$000,$210,$222
	DC.W	0,$000,$122,$000,$100,$210,$321,$100,$000,$011,$000,$000,$000,$000,$320,$333
	DC.W	0,$011,$233,$000,$210,$321,$432,$210,$000,$122,$000,$000,$100,$000,$431,$444
	DC.W	0,$122,$344,$000,$321,$432,$543,$320,$000,$233,$100,$011,$210,$000,$542,$555
	DC.W	0,$233,$455,$011,$432,$543,$654,$431,$100,$344,$210,$122,$321,$000,$653,$666
	DC.W	0,$344,$566,$122,$543,$654,$765,$542,$210,$455,$321,$233,$432,$011,$764,$777
	DC.L	-1

PNTS
N	SET	32768
	REPT	16
	DC.W	N
N	SET	N/2
	ENDR
	SECTION	BSS
ANC_PAL	DS.L	8
ANC_VBL	DS.L	1
ANC_TIM	DS.L	1
SAUV_SP	DS.L	1
SAUVEC	DS.W	1
IERA	DS.B	1
IERB	DS.B	1
ISRA	DS.B	1
ISRB	DS.B	1
IMRA	DS.B	1
IMRB	DS.B	1
VR	DS.B	1
TACR	DS.B	1
TBCR	DS.B	1
TCDCR	DS.B	1
TADR	DS.B	1
TBDR	DS.B	1
	DS.B	256+160
BUFFER	DS.L	16000
	DS.B	256+160
SCREEN1	DS.L	1
SCREEN2	DS.L	1
ADR_ZIK	DS.L	1
VBL_FLAG	DS.W	1

PNT1TRAJET	DS.L	1
PNT2TRAJET	DS.L	1
PNT3TRAJET	DS.L	1
PNT4TRAJET	DS.L	1
	DS.L	2
TABLE_ADR	DS.L	201
	DS.L	2
TABLE2ADR	DS.L	101
	DS.L	2
TABLE3ADR	DS.L	51
ANNEX	DS.W	1
ANNEX2	DS.L	1
TABLE_DEC	DS.L	8
TABLE2DEC	DS.L	8
PNT1STARS	DS.L	1
PNT2STARS	DS.L	1
PNT3STARS	DS.L	1

PNT_1_CRB	DS.L	1
PNT_1_ROT	DS.L	1
PNT_2_CRB	DS.L	1
PNT_2_ROT	DS.L	1
PNT_1_Y	DS.L	1
PNT_2_Y	DS.L	1
PNT_ANIM	DS.L	1
PNT_DEPR	DS.L	1
COULEUR	DS.W	1
PACK_ADR	DS.L	4*4

VALOR	DS.W	1
PNT_FADE	DS.L	1
TEMPO	DS.W	1
BUF_CERCLE	DS.L	8*4*60*4