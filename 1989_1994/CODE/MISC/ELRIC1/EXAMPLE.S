	CLR.L	-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	MOVE.L	D0,SAUV_SP
	
	CLR.W	-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.L	#-1,-(SP)
	MOVE.W	#5,-(SP)
	TRAP	#14
	LEA	12(SP),SP
	
	OR.W	#$700,SR
	CLR.B	$FFFFFA13.W
	CLR.B	$FFFFFA15.W
	LEA	DEBMOD,A1
	LEA	FINMOD,A2
	MOVEQ	#0,D0
	JSR	PLAYER
	MOVE.L	A0,SDTVAR
	MOVE.W	#$2300,SR

	MOVE.L	$70.W,ANC_VBL
	MOVE.L	#VBLR,$70.W

LOOP	JMP	LOOP

FIN	MOVE.W	#$2700,SR
	MOVE.B	#$1E,$FFFFFA13.W
	MOVE.B	#$64,$FFFFFA15.W
	MOVE.L	ANC_VBL,$70.W
	MOVE.W	#$2300,SR
		
	MOVE.L	SAUV_SP,-(SP)
	MOVE.W	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	
	CLR.W	-(SP)
	TRAP	#1
	ADDQ.L	#2,SP

	*******	V B L  &  P R O C E D U R E S   *******
VBLR	MOVE.L	SDTVAR,A0
	MOVE.L	(A0),A6
	MOVEQ	#1,D0
	JSR	PLAYER
	CMPI.B	#$39,$FFFFFC02.W
	BEQ	FIN
	RTE

	SECTION	DATA
PLAYER	INCBIN	TRACKER7.BIN
DEBMOD	INCBIN	DELTA.MOD
FINMOD

	SECTION	BSS
SDTVAR	DS.L	1
ANC_VBL	DS.L	1
SAUV_SP	DS.L	1