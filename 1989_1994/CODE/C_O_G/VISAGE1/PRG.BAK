	CLR.L	-(SP)
	MOVE	#$20,-(SP)
	TRAP	#1
	ADDQ.L	#6,SP
	
	CLR	-(SP)
	PEA	-1.W
	PEA	-1.W
	MOVE	#5,-(SP)
	TRAP	#14
	LEA	12(SP),SP
	
	
	MOVE.L	#BUF,D0
	CLR.B	D0
	MOVE.L	D0,SCREEN1
	ADD.L	#32000,D0
	MOVE.L	D0,SCREEN2
	MOVE.L	#PIC1+2,ADR_PAL1
	MOVE.L	#PIC2+2,ADR_PAL2
	MOVE.L	SCREEN1,A0
	MOVE.L	SCREEN2,A1
	LEA	PIC1+34,A2
	LEA	PIC2+34,A3
	MOVE	#7999,D0
COP	MOVE.L	(A2)+,(A0)+
	MOVE.L	(A3)+,(A1)+
	DBF	D0,COP
	
	MOVE.L	#VBL,$70.W
J	BRA.S	J
	
VBL	
	move.l	SCREEN1,d0	
;	move.l	SCREEN2,SCREEN1		
;	move.l	d0,SCREEN2
	lsr.l	#8,d0		
	move.l	#$ffff8201,a0
	movep	d0,(a0)
	move.l	ADR_PAL1,A0	
;	move.l	ADR_PAL2,ADR_PAL1		
;	move.l	A0,ADR_PAL2

	MOVEM.L	PIC1+2,D0-D7
	MOVEM.L	D0-D7,$FFFF8240.W
	SF	$FFFF825E.W
	
	RTE
	
PIC1	INCBIN	VISAGE1.PI1
PIC2	INCBIN	VISAGE2.PI1
	BSS
	DS.B	256
BUF	DS.B	64000
SCREEN1	DS.L	1
SCREEN2	DS.L	1
ADR_PAL1	DS.L	1
ADR_PAL2	DS.L	1
